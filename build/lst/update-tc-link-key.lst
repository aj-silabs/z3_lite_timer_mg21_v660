###############################################################################
#
# IAR ANSI C/C++ Compiler V8.32.2.178/W32 for ARM         14/Jun/2019  13:20:01
# Copyright 1999-2018 IAR Systems AB.
#
#    Cpu mode     =  
#    Endian       =  little
#    Source file  =  
#        C:\SiliconLabs\SimplicityStudio\v4\developer\sdks\gecko_sdk_suite\v2.6\protocol\zigbee\app\framework\plugin\update-tc-link-key\update-tc-link-key.c
#    Command line =  
#        -f C:\Users\alji\AppData\Local\Temp\EW641C.tmp
#        (C:\SiliconLabs\SimplicityStudio\v4\developer\sdks\gecko_sdk_suite\v2.6\protocol\zigbee\app\framework\plugin\update-tc-link-key\update-tc-link-key.c
#        -D LOCAL_STORAGE_BTL -D CORTEXM3 -D CORTEXM3_EFR32 -D
#        CORTEXM3_EFR32_MICRO -D CORTEXM3_EFM32_MICRO -D
#        EFR32_SERIES2_CONFIG1_MICRO -D EFR32MG21 -D EFR32MG21A010F1024IM32 -D
#        "ATTRIBUTE_STORAGE_CONFIGURATION=\"z3_lite_timer_mg21_v660_endpoint_config.h\""
#        -D "CONFIGURATION_HEADER=\"app/framework/util/config.h\"" -D
#        "GENERATED_TOKEN_HEADER=\"z3_lite_timer_mg21_v660_tokens.h\"" -D
#        "PLATFORM_HEADER=\"platform/base/hal/micro/cortexm3/compiler/iar.h\""
#        -D "ZA_GENERATED_HEADER=\"z3_lite_timer_mg21_v660.h\"" -D
#        "__SOURCEFILE__=\"update-tc-link-key.c\"" -D PSSTORE_SIZE=0 -D
#        LONGTOKEN_SIZE=0 -D LOCKBITS_IN_MAINFLASH_SIZE=8192 -D HAL_CONFIG=1 -D
#        EMBER_AF_USE_HWCONF -D LED_BLINK_PERIOD_MS=1000 -D NO_LED=1 -D
#        "EMBER_AF_API_EMBER_TYPES=\"stack/include/ember-types.h\"" -D
#        "EMBER_AF_API_DEBUG_PRINT=\"app/framework/util/print.h\"" -D
#        "EMBER_AF_API_AF_HEADER=\"app/framework/include/af.h\"" -D
#        "EMBER_AF_API_AF_SECURITY_HEADER=\"app/framework/security/af-security.h\""
#        -D EMBER_STACK_ZIGBEE -D
#        "MBEDTLS_CONFIG_FILE=\"mbedtls-config-generated.h\"" -D USE_NVM3 -D
#        NVM3_DEFAULT_NVM_SIZE=NVM3_FLASH_PAGES*FLASH_PAGE_SIZE -D
#        EMLIB_USER_CONFIG -D HAL_BULBPWM_ENABLE=1 -D
#        HAL_BULBPWM_FREQUENCY=1000 -D
#        "APPLICATION_TOKEN_HEADER=\"znet-token.h\"" -D
#        "APPLICATION_MFG_TOKEN_HEADER=\"znet-mfg-token.h\"" -D
#        "MBEDTLS_DEVICE_ACCELERATION_CONFIG_FILE=\"configs/config-device-acceleration.h\""
#        -D
#        "MBEDTLS_DEVICE_ACCELERATION_CONFIG_APP_FILE=\"config-device-acceleration-app.h\""
#        -D NVM3_FLASH_PAGES=4 -D NVM3_DEFAULT_CACHE_SIZE=200 -D
#        NVM3_MAX_OBJECT_SIZE=254 -D NVM3_DEFAULT_REPACK_HEADROOM=0 -D
#        PHY_RAIL=1 -lC
#        C:\SiliconLabs\SimplicityStudio\v4\developer\sdks\gecko_sdk_suite\v2.5\z3_lite_timer_mg21_v660\build\lst
#        --diag_suppress Pa050 -o
#        C:\SiliconLabs\SimplicityStudio\v4\developer\sdks\gecko_sdk_suite\v2.5\z3_lite_timer_mg21_v660\build\obj
#        --no_unroll --no_clustering --debug --endian=little
#        --cpu=Cortex-M33.no_dsp --cmse --no_path_in_file_macros
#        --separate_cluster_for_initialized_variables -e --fpu=None
#        --dlib_config "C:\Program Files (x86)\IAR Systems\Embedded Workbench
#        8.2\arm\inc\c\DLib_Config_Normal.h" -I
#        C:\SiliconLabs\SimplicityStudio\v4\developer\sdks\gecko_sdk_suite\v2.6\protocol\zigbee\app\framework\plugin\update-tc-link-key\
#        -I
#        C:\SiliconLabs\SimplicityStudio\v4\developer\sdks\gecko_sdk_suite\v2.5\z3_lite_timer_mg21_v660\
#        -I
#        C:\SiliconLabs\SimplicityStudio\v4\developer\sdks\gecko_sdk_suite\v2.5\z3_lite_timer_mg21_v660\..\..\v2.6\
#        -I
#        C:\SiliconLabs\SimplicityStudio\v4\developer\sdks\gecko_sdk_suite\v2.5\z3_lite_timer_mg21_v660\..\..\v2.6\protocol\zigbee\app\framework\
#        -I
#        C:\SiliconLabs\SimplicityStudio\v4\developer\sdks\gecko_sdk_suite\v2.5\z3_lite_timer_mg21_v660\..\..\v2.6\protocol\zigbee\app\framework\..\..\
#        -I
#        C:\SiliconLabs\SimplicityStudio\v4\developer\sdks\gecko_sdk_suite\v2.5\z3_lite_timer_mg21_v660\..\..\v2.6\protocol\zigbee\app\framework\..\..\stack\
#        -I
#        C:\SiliconLabs\SimplicityStudio\v4\developer\sdks\gecko_sdk_suite\v2.5\z3_lite_timer_mg21_v660\..\..\v2.6\protocol\zigbee\app\framework\..\util\
#        -I
#        C:\SiliconLabs\SimplicityStudio\v4\developer\sdks\gecko_sdk_suite\v2.5\z3_lite_timer_mg21_v660\..\..\v2.6\protocol\zigbee\app\framework\include\
#        -I
#        C:\SiliconLabs\SimplicityStudio\v4\developer\sdks\gecko_sdk_suite\v2.5\z3_lite_timer_mg21_v660\..\..\v2.6\platform\base\hal\
#        -I
#        C:\SiliconLabs\SimplicityStudio\v4\developer\sdks\gecko_sdk_suite\v2.5\z3_lite_timer_mg21_v660\..\..\v2.6\platform\base\hal\plugin\
#        -I
#        C:\SiliconLabs\SimplicityStudio\v4\developer\sdks\gecko_sdk_suite\v2.5\z3_lite_timer_mg21_v660\..\..\v2.6\platform\base\hal\..\
#        -I
#        C:\SiliconLabs\SimplicityStudio\v4\developer\sdks\gecko_sdk_suite\v2.5\z3_lite_timer_mg21_v660\..\..\v2.6\platform\base\hal\micro\cortexm3\efm32\
#        -I
#        C:\SiliconLabs\SimplicityStudio\v4\developer\sdks\gecko_sdk_suite\v2.5\z3_lite_timer_mg21_v660\..\..\v2.6\platform\base\hal\micro\cortexm3\efm32\config\
#        -I
#        C:\SiliconLabs\SimplicityStudio\v4\developer\sdks\gecko_sdk_suite\v2.5\z3_lite_timer_mg21_v660\..\..\v2.6\platform\base\hal\micro\cortexm3\efm32\efr32\
#        -I
#        C:\SiliconLabs\SimplicityStudio\v4\developer\sdks\gecko_sdk_suite\v2.5\z3_lite_timer_mg21_v660\..\..\v2.6\platform\base\hal\..\..\CMSIS\Include\
#        -I
#        C:\SiliconLabs\SimplicityStudio\v4\developer\sdks\gecko_sdk_suite\v2.5\z3_lite_timer_mg21_v660\..\..\v2.6\platform\base\hal\..\..\Device\SiliconLabs\efr32mg21\Include\
#        -I
#        C:\SiliconLabs\SimplicityStudio\v4\developer\sdks\gecko_sdk_suite\v2.5\z3_lite_timer_mg21_v660\..\..\v2.6\platform\base\hal\..\..\emdrv\common\inc\
#        -I
#        C:\SiliconLabs\SimplicityStudio\v4\developer\sdks\gecko_sdk_suite\v2.5\z3_lite_timer_mg21_v660\..\..\v2.6\platform\base\hal\..\..\emdrv\config\
#        -I
#        C:\SiliconLabs\SimplicityStudio\v4\developer\sdks\gecko_sdk_suite\v2.5\z3_lite_timer_mg21_v660\..\..\v2.6\platform\base\hal\..\..\emdrv\dmadrv\inc\
#        -I
#        C:\SiliconLabs\SimplicityStudio\v4\developer\sdks\gecko_sdk_suite\v2.5\z3_lite_timer_mg21_v660\..\..\v2.6\platform\base\hal\..\..\emdrv\gpiointerrupt\inc\
#        -I
#        C:\SiliconLabs\SimplicityStudio\v4\developer\sdks\gecko_sdk_suite\v2.5\z3_lite_timer_mg21_v660\..\..\v2.6\platform\base\hal\..\..\emdrv\rtcdrv\inc\
#        -I
#        C:\SiliconLabs\SimplicityStudio\v4\developer\sdks\gecko_sdk_suite\v2.5\z3_lite_timer_mg21_v660\..\..\v2.6\platform\base\hal\..\..\emdrv\sleep\inc\
#        -I
#        C:\SiliconLabs\SimplicityStudio\v4\developer\sdks\gecko_sdk_suite\v2.5\z3_lite_timer_mg21_v660\..\..\v2.6\platform\base\hal\..\..\emdrv\spidrv\inc\
#        -I
#        C:\SiliconLabs\SimplicityStudio\v4\developer\sdks\gecko_sdk_suite\v2.5\z3_lite_timer_mg21_v660\..\..\v2.6\platform\base\hal\..\..\emdrv\tempdrv\inc\
#        -I
#        C:\SiliconLabs\SimplicityStudio\v4\developer\sdks\gecko_sdk_suite\v2.5\z3_lite_timer_mg21_v660\..\..\v2.6\platform\base\hal\..\..\emdrv\uartdrv\inc\
#        -I
#        C:\SiliconLabs\SimplicityStudio\v4\developer\sdks\gecko_sdk_suite\v2.5\z3_lite_timer_mg21_v660\..\..\v2.6\platform\base\hal\..\..\emdrv\ustimer\inc\
#        -I
#        C:\SiliconLabs\SimplicityStudio\v4\developer\sdks\gecko_sdk_suite\v2.5\z3_lite_timer_mg21_v660\..\..\v2.6\platform\base\hal\..\..\emlib\inc\
#        -I
#        C:\SiliconLabs\SimplicityStudio\v4\developer\sdks\gecko_sdk_suite\v2.5\z3_lite_timer_mg21_v660\..\..\v2.6\platform\base\hal\..\..\middleware\glib\
#        -I
#        C:\SiliconLabs\SimplicityStudio\v4\developer\sdks\gecko_sdk_suite\v2.5\z3_lite_timer_mg21_v660\..\..\v2.6\platform\base\hal\..\..\middleware\glib\glib\
#        -I
#        C:\SiliconLabs\SimplicityStudio\v4\developer\sdks\gecko_sdk_suite\v2.5\z3_lite_timer_mg21_v660\..\..\v2.6\platform\base\hal\..\..\radio\rail_lib\plugin\
#        -I
#        C:\SiliconLabs\SimplicityStudio\v4\developer\sdks\gecko_sdk_suite\v2.5\z3_lite_timer_mg21_v660\..\..\v2.6\platform\base\hal\..\..\radio\rail_lib\chip\efr32\rf\common\cortex\
#        -I
#        C:\SiliconLabs\SimplicityStudio\v4\developer\sdks\gecko_sdk_suite\v2.5\z3_lite_timer_mg21_v660\..\..\v2.6\platform\base\hal\..\..\radio\rail_lib\chip\efr32\rf\rfprotocol\ieee802154\cortex\
#        -I
#        C:\SiliconLabs\SimplicityStudio\v4\developer\sdks\gecko_sdk_suite\v2.5\z3_lite_timer_mg21_v660\..\..\v2.6\platform\halconfig\inc\hal-config\
#        -I
#        C:\SiliconLabs\SimplicityStudio\v4\developer\sdks\gecko_sdk_suite\v2.5\z3_lite_timer_mg21_v660\..\..\v2.6\hardware\module\config\
#        -I
#        C:\SiliconLabs\SimplicityStudio\v4\developer\sdks\gecko_sdk_suite\v2.5\z3_lite_timer_mg21_v660\..\..\v2.6\hardware\kit\common\halconfig\
#        -I
#        C:\SiliconLabs\SimplicityStudio\v4\developer\sdks\gecko_sdk_suite\v2.5\z3_lite_timer_mg21_v660\..\..\v2.6\hardware\kit\common\bsp\
#        -I
#        C:\SiliconLabs\SimplicityStudio\v4\developer\sdks\gecko_sdk_suite\v2.5\z3_lite_timer_mg21_v660\hal-config\
#        -I
#        C:\SiliconLabs\SimplicityStudio\v4\developer\sdks\gecko_sdk_suite\v2.5\z3_lite_timer_mg21_v660\..\..\v2.6\platform\bootloader\
#        -I
#        C:\SiliconLabs\SimplicityStudio\v4\developer\sdks\gecko_sdk_suite\v2.5\z3_lite_timer_mg21_v660\..\..\v2.6\platform\emdrv\nvm3\inc\
#        -I
#        C:\SiliconLabs\SimplicityStudio\v4\developer\sdks\gecko_sdk_suite\v2.5\z3_lite_timer_mg21_v660\..\..\v2.6\platform\radio\rail_lib\chip\efr32\efr32xg2x\
#        -I
#        C:\SiliconLabs\SimplicityStudio\v4\developer\sdks\gecko_sdk_suite\v2.5\z3_lite_timer_mg21_v660\..\..\v2.6\platform\radio\rail_lib\common\
#        -I
#        C:\SiliconLabs\SimplicityStudio\v4\developer\sdks\gecko_sdk_suite\v2.5\z3_lite_timer_mg21_v660\..\..\v2.6\platform\radio\rail_lib\plugin\coexistence\common\
#        -I
#        C:\SiliconLabs\SimplicityStudio\v4\developer\sdks\gecko_sdk_suite\v2.5\z3_lite_timer_mg21_v660\..\..\v2.6\platform\radio\rail_lib\plugin\coexistence\hal\efr32\
#        -I
#        C:\SiliconLabs\SimplicityStudio\v4\developer\sdks\gecko_sdk_suite\v2.5\z3_lite_timer_mg21_v660\..\..\v2.6\platform\radio\rail_lib\plugin\coexistence\protocol\ieee802154\
#        -I
#        C:\SiliconLabs\SimplicityStudio\v4\developer\sdks\gecko_sdk_suite\v2.5\z3_lite_timer_mg21_v660\..\..\v2.6\platform\radio\rail_lib\protocol\ble\
#        -I
#        C:\SiliconLabs\SimplicityStudio\v4\developer\sdks\gecko_sdk_suite\v2.5\z3_lite_timer_mg21_v660\..\..\v2.6\platform\radio\rail_lib\protocol\ieee802154\
#        -I
#        C:\SiliconLabs\SimplicityStudio\v4\developer\sdks\gecko_sdk_suite\v2.5\z3_lite_timer_mg21_v660\..\..\v2.6\platform\radio\rail_lib\protocol\zwave\
#        -I
#        C:\SiliconLabs\SimplicityStudio\v4\developer\sdks\gecko_sdk_suite\v2.5\z3_lite_timer_mg21_v660\..\..\v2.6\util\plugin\plugin-common\mbedtls\
#        -I
#        C:\SiliconLabs\SimplicityStudio\v4\developer\sdks\gecko_sdk_suite\v2.5\z3_lite_timer_mg21_v660\..\..\v2.6\util\third_party\mbedtls\
#        -I
#        C:\SiliconLabs\SimplicityStudio\v4\developer\sdks\gecko_sdk_suite\v2.5\z3_lite_timer_mg21_v660\..\..\v2.6\util\third_party\mbedtls\include\
#        -I
#        C:\SiliconLabs\SimplicityStudio\v4\developer\sdks\gecko_sdk_suite\v2.5\z3_lite_timer_mg21_v660\..\..\v2.6\util\third_party\mbedtls\include\mbedtls\
#        -I
#        C:\SiliconLabs\SimplicityStudio\v4\developer\sdks\gecko_sdk_suite\v2.5\z3_lite_timer_mg21_v660\..\..\v2.6\util\third_party\mbedtls\sl_crypto\include\
#        -Ohz --use_c++_inline)
#    Locale       =  C
#    List file    =  
#        C:\SiliconLabs\SimplicityStudio\v4\developer\sdks\gecko_sdk_suite\v2.5\z3_lite_timer_mg21_v660\build\lst\update-tc-link-key.lst
#    Object file  =  
#        C:\SiliconLabs\SimplicityStudio\v4\developer\sdks\gecko_sdk_suite\v2.5\z3_lite_timer_mg21_v660\build\obj\update-tc-link-key.o
#
###############################################################################

C:\SiliconLabs\SimplicityStudio\v4\developer\sdks\gecko_sdk_suite\v2.6\protocol\zigbee\app\framework\plugin\update-tc-link-key\update-tc-link-key.c
      1          /***************************************************************************//**
      2           * @file
      3           * @brief Definitions for the Update TC Link Key plugin, which provides a way
      4           *        for joining devices to request a new link key after joining a Zigbee
      5           *        3.0 network.
      6           *******************************************************************************
      7           * # License
      8           * <b>Copyright 2018 Silicon Laboratories Inc. www.silabs.com</b>
      9           *******************************************************************************
     10           *
     11           * The licensor of this software is Silicon Laboratories Inc. Your use of this
     12           * software is governed by the terms of Silicon Labs Master Software License
     13           * Agreement (MSLA) available at
     14           * www.silabs.com/about-us/legal/master-software-license-agreement. This
     15           * software is distributed to you in Source Code format and is governed by the
     16           * sections of the MSLA applicable to Source Code.
     17           *
     18           ******************************************************************************/
     19          
     20          #include "app/framework/include/af.h"
     21          #include "update-tc-link-key.h"
     22          
     23          #ifdef EZSP_HOST
     24            #define requestLinkKey ezspUpdateTcLinkKey
     25          #else
     26            #define requestLinkKey emberUpdateTcLinkKey
     27          #endif
     28          

   \                                 In section .bss, align 1
     29          static bool inRequest = false;
   \                     inRequest:
   \        0x0                      DS8 1
     30          

   \                                 In section .bss, align 4
     31          EmberEventControl emberAfPluginUpdateTcLinkKeyBeginTcLinkKeyUpdateEventControl;
   \                     emberAfPluginUpdateTcLinkKeyBeginTcLinkKeyUpdateEventControl:
   \        0x0                      DS8 8
     32          #define beginTcLinkKeyUpdateEvent (emberAfPluginUpdateTcLinkKeyBeginTcLinkKeyUpdateEventControl)
     33          
     34          // Setting the default timer to a day.

   \                                 In section .data, align 4
     35          static uint32_t LinkKeyUpdateTimerMilliseconds = MILLISECOND_TICKS_PER_DAY;
   \                     LinkKeyUpdateTimerMilliseconds:
   \        0x0   0x0526'5C00        DC32 86400000
     36          
     37          // -----------------------------------------------------------------------------
     38          // Public API
     39          

   \                                 In section .text, align 2, keep-with-next
     40          EmberStatus emberAfPluginUpdateTcLinkKeyStart(void)
     41          {
   \                     emberAfPluginUpdateTcLinkKeyStart: (+1)
   \        0x0   0xB580             PUSH     {R7,LR}
     42            EmberStatus status;
     43          
     44            status = requestLinkKey(EMBER_AF_PLUGIN_UPDATE_TC_LINK_KEY_MAX_ATTEMPTS);
   \        0x2   0x2003             MOVS     R0,#+3
   \        0x4   0x....'....        BL       emberUpdateTcLinkKey
     45            if (status == EMBER_SUCCESS) {
   \        0x8   0x0001             MOVS     R1,R0
   \        0xA   0xD102             BNE.N    ??emberAfPluginUpdateTcLinkKeyStart_0
     46              inRequest = true;
   \        0xC   0x2101             MOVS     R1,#+1
   \        0xE   0x....             LDR.N    R2,??DataTable6
   \       0x10   0x7011             STRB     R1,[R2, #+0]
     47            }
     48          
     49            return status;
   \                     ??emberAfPluginUpdateTcLinkKeyStart_0: (+1)
   \       0x12   0xBD02             POP      {R1,PC}          ;; return
     50          }
     51          

   \                                 In section .text, align 2, keep-with-next
     52          bool emberAfPluginUpdateTcLinkKeyStop(void)
     53          {
     54            bool wasInRequest = inRequest;
   \                     emberAfPluginUpdateTcLinkKeyStop: (+1)
   \        0x0   0x....             LDR.N    R1,??DataTable6
   \        0x2   0x7808             LDRB     R0,[R1, #+0]
     55            inRequest = false;
   \        0x4   0x2200             MOVS     R2,#+0
   \        0x6   0x700A             STRB     R2,[R1, #+0]
     56            return wasInRequest;
   \        0x8   0x4770             BX       LR               ;; return
     57          }
     58          

   \                                 In section .text, align 2, keep-with-next
     59          void emberAfPluginUpdateTcLinkKeySetDelay(uint32_t delayMs)
     60          {
   \                     emberAfPluginUpdateTcLinkKeySetDelay: (+1)
   \        0x0   0x4601             MOV      R1,R0
     61            emberEventControlSetDelayMS(beginTcLinkKeyUpdateEvent, delayMs);
   \        0x2   0x....             LDR.N    R0,??DataTable6_1
   \        0x4   0x....'....        B.W      emEventControlSetDelayMS
     62          }
     63          

   \                                 In section .text, align 2, keep-with-next
     64          void emberAfPluginUpdateTcLinkKeySetInactive(void)
     65          {
     66            emberEventControlSetInactive(beginTcLinkKeyUpdateEvent);
   \                     emberAfPluginUpdateTcLinkKeySetInactive: (+1)
   \        0x0   0x2000             MOVS     R0,#+0
   \        0x2   0x....             LDR.N    R1,??DataTable6_1
   \        0x4   0x7008             STRB     R0,[R1, #+0]
     67          }
   \        0x6   0x4770             BX       LR               ;; return
     68          

   \                                 In section .text, align 2, keep-with-next
     69          void emberAfPluginUpdateTcLinkKeyZigbeeKeyEstablishmentCallback(EmberEUI64 partner,
     70                                                                          EmberKeyStatus status)
     71          {
   \                     emberAfPluginUpdateTcLinkKeyZigbeeKeyEstablishmentCallback: (+1)
   \        0x0   0xB570             PUSH     {R4-R6,LR}
   \        0x2   0x4606             MOV      R6,R0
     72            if (inRequest) {
   \        0x4   0x....             LDR.N    R4,??DataTable6
   \        0x6   0x7820             LDRB     R0,[R4, #+0]
   \        0x8   0x460D             MOV      R5,R1
   \        0xA   0xB358             CBZ.N    R0,??emberAfPluginUpdateTcLinkKeyZigbeeKeyEstablis_0
     73              emberAfCorePrint("%p:", EMBER_AF_PLUGIN_UPDATE_TC_LINK_KEY_PLUGIN_NAME);
   \        0xC   0x....             LDR.N    R2,??DataTable6_2
   \        0xE   0x....             LDR.N    R1,??DataTable6_3
   \       0x10   0x2001             MOVS     R0,#+1
   \       0x12   0x....'....        BL       emberAfPrint
     74          
     75              if ((status == EMBER_TRUST_CENTER_LINK_KEY_ESTABLISHED)
     76                  || (status == EMBER_VERIFY_LINK_KEY_SUCCESS)) {
   \       0x16   0x2D03             CMP      R5,#+3
   \       0x18   0xBF14             ITE      NE 
   \       0x1A   0x2D65             CMPNE    R5,#+101
   \       0x1C   0x....             LDREQ.N  R1,??DataTable6_4
     77                emberAfCorePrint(" New key established:");
   \       0x1E   0xD002             BEQ.N    ??emberAfPluginUpdateTcLinkKeyZigbeeKeyEstablis_1
     78              } else if (status != EMBER_APP_LINK_KEY_ESTABLISHED) {
   \       0x20   0x2D01             CMP      R5,#+1
   \       0x22   0xD003             BEQ.N    ??emberAfPluginUpdateTcLinkKeyZigbeeKeyEstablis_2
     79                emberAfCorePrint(" Error:");
   \       0x24   0x....             LDR.N    R1,??DataTable6_5
   \                     ??emberAfPluginUpdateTcLinkKeyZigbeeKeyEstablis_1: (+1)
   \       0x26   0x2001             MOVS     R0,#+1
   \       0x28   0x....'....        BL       emberAfPrint
     80              }
     81              emberAfCorePrintln(" 0x%X", status);
   \                     ??emberAfPluginUpdateTcLinkKeyZigbeeKeyEstablis_2: (+1)
   \       0x2C   0x462A             MOV      R2,R5
   \       0x2E   0x....             LDR.N    R1,??DataTable6_6
   \       0x30   0x2001             MOVS     R0,#+1
   \       0x32   0x....'....        BL       emberAfPrintln
     82              emberAfCorePrint("Partner: ");
   \       0x36   0x....             LDR.N    R1,??DataTable6_7
   \       0x38   0x2001             MOVS     R0,#+1
   \       0x3A   0x....'....        BL       emberAfPrint
     83              emberAfCorePrintBuffer(partner, EUI64_SIZE, true); // withSpace?
   \       0x3E   0x2301             MOVS     R3,#+1
   \       0x40   0x2208             MOVS     R2,#+8
   \       0x42   0x4631             MOV      R1,R6
   \       0x44   0x2001             MOVS     R0,#+1
   \       0x46   0x....'....        BL       emberAfPrintBuffer
     84              emberAfCorePrintln("");
   \       0x4A   0x....             LDR.N    R1,??DataTable6_8
   \       0x4C   0x2001             MOVS     R0,#+1
   \       0x4E   0x....'....        BL       emberAfPrintln
     85          
     86              // Anything greater than EMBER_TRUST_CENTER_LINK_KEY_ESTABLISHED is the
     87              // final state for a joining device
     88              if (status > EMBER_TRUST_CENTER_LINK_KEY_ESTABLISHED) {
   \       0x52   0x2D04             CMP      R5,#+4
   \       0x54   0xBFA4             ITT      GE 
   \       0x56   0x2000             MOVGE    R0,#+0
   \       0x58   0x7020             STRBGE   R0,[R4, #+0]
     89                inRequest = false;
     90              }
     91          
     92              emberAfPluginUpdateTcLinkKeyStatusCallback(status);
   \       0x5A   0x4628             MOV      R0,R5
   \       0x5C   0xE8BD 0x4070      POP      {R4-R6,LR}
   \       0x60   0x....'....        B.W      emberAfPluginUpdateTcLinkKeyStatusCallback
     93            }
     94          }
   \                     ??emberAfPluginUpdateTcLinkKeyZigbeeKeyEstablis_0: (+1)
   \       0x64   0xBD70             POP      {R4-R6,PC}       ;; return
     95          
     96          // =============================================================================
     97          // Begin Update of TC Link Key
     98          
     99          // The TC link key may be updated on a timely basis, if desired. For instance,
    100          // if a device is joining a network where the Trust Center is pre-R21 and the
    101          // device knows that the TC will be upgraded to post-R21 at some point, the
    102          // joining device may choose to update its Trust Center link key on a timely
    103          // basis such that, eventually, the update completes successfully.
    104          // Other applications may choose to regularly update their TC link key for
    105          // security reasons.
    106          

   \                                 In section .text, align 2, keep-with-next
    107          void emberAfPluginUpdateTcLinkKeyBeginTcLinkKeyUpdateEventHandler(void)
    108          {
    109            if (!inRequest) {
   \                     emberAfPluginUpdateTcLinkKeyBeginTcLinkKeyUpdateEventHandler: (+1)
   \        0x0   0x....             LDR.N    R1,??DataTable6
   \        0x2   0xB538             PUSH     {R3-R5,LR}
   \        0x4   0x7808             LDRB     R0,[R1, #+0]
   \        0x6   0x....             LDR.N    R4,??DataTable6_1
   \        0x8   0xB990             CBNZ.N   R0,??emberAfPluginUpdateTcLinkKeyBeginTcLinkKeyUpd_0
    110              emberEventControlSetInactive(beginTcLinkKeyUpdateEvent);
   \        0xA   0x2100             MOVS     R1,#+0
   \        0xC   0x7021             STRB     R1,[R4, #+0]
    111              EmberStatus status = emberAfPluginUpdateTcLinkKeyStart();
   \        0xE   0x....'....        BL       emberAfPluginUpdateTcLinkKeyStart
   \       0x12   0x4605             MOV      R5,R0
    112              emberAfCorePrintln("%p: %p: 0x%X",
    113                                 EMBER_AF_PLUGIN_UPDATE_TC_LINK_KEY_PLUGIN_NAME,
    114                                 "Starting update trust center link key process",
    115                                 status);
   \       0x14   0x9000             STR      R0,[SP, #+0]
   \       0x16   0x....             LDR.N    R3,??DataTable6_9
   \       0x18   0x....             LDR.N    R2,??DataTable6_2
   \       0x1A   0x....             LDR.N    R1,??DataTable6_10
   \       0x1C   0x2001             MOVS     R0,#+1
   \       0x1E   0x....'....        BL       emberAfPrintln
    116              if (status != EMBER_SUCCESS) {
   \       0x22   0x0028             MOVS     R0,R5
   \       0x24   0xD004             BEQ.N    ??emberAfPluginUpdateTcLinkKeyBeginTcLinkKeyUpd_0
    117                emberLeaveNetwork();
   \       0x26   0x....'....        BL       emberLeaveNetwork
    118                emAfPluginNetworkSteeringCleanup(status);
   \       0x2A   0x4628             MOV      R0,R5
   \       0x2C   0x....'....        BL       emAfPluginNetworkSteeringCleanup
    119              }
    120            }
    121            emberAfPluginUpdateTcLinkKeySetDelay(LinkKeyUpdateTimerMilliseconds);
   \                     ??emberAfPluginUpdateTcLinkKeyBeginTcLinkKeyUpd_0: (+1)
   \       0x30   0x....             LDR.N    R0,??DataTable6_11
   \       0x32   0x6801             LDR      R1,[R0, #+0]
   \       0x34   0x4620             MOV      R0,R4
   \       0x36   0xE8BD 0x4034      POP      {R2,R4,R5,LR}
   \       0x3A   0x....'....        B.W      emEventControlSetDelayMS
    122          }
    123          

   \                                 In section .text, align 2, keep-with-next
    124          void emberAfPluginSetTCLinkKeyUpdateTimerMilliSeconds(uint32_t timeInMilliseconds)
    125          {
    126            LinkKeyUpdateTimerMilliseconds = timeInMilliseconds;
   \                     emberAfPluginSetTCLinkKeyUpdateTimerMilliSeconds: (+1)
   \        0x0   0x....             LDR.N    R1,??DataTable6_11
   \        0x2   0x6008             STR      R0,[R1, #+0]
    127          }
   \        0x4   0x4770             BX       LR               ;; return

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable6:
   \        0x0   0x....'....        DC32     inRequest

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable6_1:
   \        0x0   0x....'....        DC32     emberAfPluginUpdateTcLinkKeyBeginTcLinkKeyUpdateEventControl

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable6_2:
   \        0x0   0x....'....        DC32     ?_1

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable6_3:
   \        0x0   0x....'....        DC32     ?_0

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable6_4:
   \        0x0   0x....'....        DC32     ?_2

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable6_5:
   \        0x0   0x....'....        DC32     ?_3

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable6_6:
   \        0x0   0x....'....        DC32     ?_4

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable6_7:
   \        0x0   0x....'....        DC32     ?_5

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable6_8:
   \        0x0   0x....'....        DC32     ?_6

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable6_9:
   \        0x0   0x....'....        DC32     ?_8

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable6_10:
   \        0x0   0x....'....        DC32     ?_7

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable6_11:
   \        0x0   0x....'....        DC32     LinkKeyUpdateTimerMilliseconds

   \                                 In section .rodata, align 4
   \                     ?_0:
   \        0x0   0x25 0x70          DC8 "%p:"
   \              0x3A 0x00    

   \                                 In section .rodata, align 4
   \                     ?_1:
   \        0x0   0x55 0x70          DC8 "Update TC Link Key"
   \              0x64 0x61    
   \              0x74 0x65    
   \              0x20 0x54    
   \              0x43 0x20    
   \              0x4C 0x69    
   \              0x6E 0x6B    
   \              0x20 0x4B    
   \              0x65 0x79    
   \              0x00         
   \       0x13   0x00               DC8 0

   \                                 In section .rodata, align 4
   \                     ?_2:
   \        0x0   0x20 0x4E          DC8 " New key established:"
   \              0x65 0x77    
   \              0x20 0x6B    
   \              0x65 0x79    
   \              0x20 0x65    
   \              0x73 0x74    
   \              0x61 0x62    
   \              0x6C 0x69    
   \              0x73 0x68    
   \              0x65 0x64    
   \              0x3A 0x00    
   \       0x16   0x00 0x00          DC8 0, 0

   \                                 In section .rodata, align 4
   \                     ?_3:
   \        0x0   0x20 0x45          DC8 " Error:"
   \              0x72 0x72    
   \              0x6F 0x72    
   \              0x3A 0x00    

   \                                 In section .rodata, align 4
   \                     ?_4:
   \        0x0   0x20 0x30          DC8 " 0x%X"
   \              0x78 0x25    
   \              0x58 0x00    
   \        0x6   0x00 0x00          DC8 0, 0

   \                                 In section .rodata, align 4
   \                     ?_5:
   \        0x0   0x50 0x61          DC8 "Partner: "
   \              0x72 0x74    
   \              0x6E 0x65    
   \              0x72 0x3A    
   \              0x20 0x00    
   \        0xA   0x00 0x00          DC8 0, 0

   \                                 In section .rodata, align 1
   \                     ?_6:
   \        0x0   0x00               DC8 ""

   \                                 In section .rodata, align 4
   \                     ?_7:
   \        0x0   0x25 0x70          DC8 "%p: %p: 0x%X"
   \              0x3A 0x20    
   \              0x25 0x70    
   \              0x3A 0x20    
   \              0x30 0x78    
   \              0x25 0x58    
   \              0x00         
   \        0xD   0x00 0x00          DC8 0, 0, 0
   \              0x00         

   \                                 In section .rodata, align 4
   \                     ?_8:
   \        0x0   0x53 0x74          DC8 "Starting update trust center link key process"
   \              0x61 0x72    
   \              0x74 0x69    
   \              0x6E 0x67    
   \              0x20 0x75    
   \              0x70 0x64    
   \              0x61 0x74    
   \              0x65 0x20    
   \              0x74 0x72    
   \              0x75 0x73    
   \              0x74 0x20    
   \              0x63 0x65    
   \              0x6E 0x74    
   \              0x65 0x72    
   \              0x20 0x6C    
   \              0x69 0x6E    
   \              0x6B 0x20    
   \              0x6B 0x65    
   \              0x79 0x20    
   \              0x70 0x72    
   \              0x6F 0x63    
   \              0x65 0x73    
   \              0x73 0x00    
   \       0x2E   0x00 0x00          DC8 0, 0

   Maximum stack usage in bytes:

   .cstack Function
   ------- --------
       0   emberAfPluginSetTCLinkKeyUpdateTimerMilliSeconds
      16   emberAfPluginUpdateTcLinkKeyBeginTcLinkKeyUpdateEventHandler
        16   -> emAfPluginNetworkSteeringCleanup
         0   -> emEventControlSetDelayMS
        16   -> emberAfPluginUpdateTcLinkKeyStart
        16   -> emberAfPrintln
        16   -> emberLeaveNetwork
       0   emberAfPluginUpdateTcLinkKeySetDelay
         0   -> emEventControlSetDelayMS
       0   emberAfPluginUpdateTcLinkKeySetInactive
       8   emberAfPluginUpdateTcLinkKeyStart
         8   -> emberUpdateTcLinkKey
       0   emberAfPluginUpdateTcLinkKeyStop
      16   emberAfPluginUpdateTcLinkKeyZigbeeKeyEstablishmentCallback
         0   -> emberAfPluginUpdateTcLinkKeyStatusCallback
        16   -> emberAfPrint
        16   -> emberAfPrintBuffer
        16   -> emberAfPrintln


   Section sizes:

   Bytes  Function/Label
   -----  --------------
       4  ??DataTable6
       4  ??DataTable6_1
       4  ??DataTable6_10
       4  ??DataTable6_11
       4  ??DataTable6_2
       4  ??DataTable6_3
       4  ??DataTable6_4
       4  ??DataTable6_5
       4  ??DataTable6_6
       4  ??DataTable6_7
       4  ??DataTable6_8
       4  ??DataTable6_9
       4  ?_0
      20  ?_1
      24  ?_2
       8  ?_3
       8  ?_4
      12  ?_5
       1  ?_6
      16  ?_7
      48  ?_8
       4  LinkKeyUpdateTimerMilliseconds
       6  emberAfPluginSetTCLinkKeyUpdateTimerMilliSeconds
       8  emberAfPluginUpdateTcLinkKeyBeginTcLinkKeyUpdateEventControl
      62  emberAfPluginUpdateTcLinkKeyBeginTcLinkKeyUpdateEventHandler
       8  emberAfPluginUpdateTcLinkKeySetDelay
       8  emberAfPluginUpdateTcLinkKeySetInactive
      20  emberAfPluginUpdateTcLinkKeyStart
      10  emberAfPluginUpdateTcLinkKeyStop
     102  emberAfPluginUpdateTcLinkKeyZigbeeKeyEstablishmentCallback
       1  inRequest

 
   9 bytes in section .bss
   4 bytes in section .data
 141 bytes in section .rodata
 264 bytes in section .text
 
 264 bytes of CODE  memory
 141 bytes of CONST memory
  13 bytes of DATA  memory

Errors: none
Warnings: none
