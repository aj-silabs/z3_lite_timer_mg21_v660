###############################################################################
#
# IAR ANSI C/C++ Compiler V8.32.2.178/W32 for ARM         14/Jun/2019  13:19:13
# Copyright 1999-2018 IAR Systems AB.
#
#    Cpu mode     =  
#    Endian       =  little
#    Source file  =  
#        C:\SiliconLabs\SimplicityStudio\v4\developer\sdks\gecko_sdk_suite\v2.6\protocol\zigbee\app\framework\plugin\interpan\interpan-soc.c
#    Command line =  
#        -f C:\Users\alji\AppData\Local\Temp\EWA5D5.tmp
#        (C:\SiliconLabs\SimplicityStudio\v4\developer\sdks\gecko_sdk_suite\v2.6\protocol\zigbee\app\framework\plugin\interpan\interpan-soc.c
#        -D LOCAL_STORAGE_BTL -D CORTEXM3 -D CORTEXM3_EFR32 -D
#        CORTEXM3_EFR32_MICRO -D CORTEXM3_EFM32_MICRO -D
#        EFR32_SERIES2_CONFIG1_MICRO -D EFR32MG21 -D EFR32MG21A010F1024IM32 -D
#        "ATTRIBUTE_STORAGE_CONFIGURATION=\"z3_lite_timer_mg21_v660_endpoint_config.h\""
#        -D "CONFIGURATION_HEADER=\"app/framework/util/config.h\"" -D
#        "GENERATED_TOKEN_HEADER=\"z3_lite_timer_mg21_v660_tokens.h\"" -D
#        "PLATFORM_HEADER=\"platform/base/hal/micro/cortexm3/compiler/iar.h\""
#        -D "ZA_GENERATED_HEADER=\"z3_lite_timer_mg21_v660.h\"" -D
#        "__SOURCEFILE__=\"interpan-soc.c\"" -D PSSTORE_SIZE=0 -D
#        LONGTOKEN_SIZE=0 -D LOCKBITS_IN_MAINFLASH_SIZE=8192 -D HAL_CONFIG=1 -D
#        EMBER_AF_USE_HWCONF -D LED_BLINK_PERIOD_MS=1000 -D NO_LED=1 -D
#        "EMBER_AF_API_EMBER_TYPES=\"stack/include/ember-types.h\"" -D
#        "EMBER_AF_API_DEBUG_PRINT=\"app/framework/util/print.h\"" -D
#        "EMBER_AF_API_AF_HEADER=\"app/framework/include/af.h\"" -D
#        "EMBER_AF_API_AF_SECURITY_HEADER=\"app/framework/security/af-security.h\""
#        -D EMBER_STACK_ZIGBEE -D
#        "MBEDTLS_CONFIG_FILE=\"mbedtls-config-generated.h\"" -D USE_NVM3 -D
#        NVM3_DEFAULT_NVM_SIZE=NVM3_FLASH_PAGES*FLASH_PAGE_SIZE -D
#        EMLIB_USER_CONFIG -D HAL_BULBPWM_ENABLE=1 -D
#        HAL_BULBPWM_FREQUENCY=1000 -D
#        "APPLICATION_TOKEN_HEADER=\"znet-token.h\"" -D
#        "APPLICATION_MFG_TOKEN_HEADER=\"znet-mfg-token.h\"" -D
#        "MBEDTLS_DEVICE_ACCELERATION_CONFIG_FILE=\"configs/config-device-acceleration.h\""
#        -D
#        "MBEDTLS_DEVICE_ACCELERATION_CONFIG_APP_FILE=\"config-device-acceleration-app.h\""
#        -D NVM3_FLASH_PAGES=4 -D NVM3_DEFAULT_CACHE_SIZE=200 -D
#        NVM3_MAX_OBJECT_SIZE=254 -D NVM3_DEFAULT_REPACK_HEADROOM=0 -D
#        PHY_RAIL=1 -lC
#        C:\SiliconLabs\SimplicityStudio\v4\developer\sdks\gecko_sdk_suite\v2.5\z3_lite_timer_mg21_v660\build\lst
#        --diag_suppress Pa050 -o
#        C:\SiliconLabs\SimplicityStudio\v4\developer\sdks\gecko_sdk_suite\v2.5\z3_lite_timer_mg21_v660\build\obj
#        --no_unroll --no_clustering --debug --endian=little
#        --cpu=Cortex-M33.no_dsp --cmse --no_path_in_file_macros
#        --separate_cluster_for_initialized_variables -e --fpu=None
#        --dlib_config "C:\Program Files (x86)\IAR Systems\Embedded Workbench
#        8.2\arm\inc\c\DLib_Config_Normal.h" -I
#        C:\SiliconLabs\SimplicityStudio\v4\developer\sdks\gecko_sdk_suite\v2.6\protocol\zigbee\app\framework\plugin\interpan\
#        -I
#        C:\SiliconLabs\SimplicityStudio\v4\developer\sdks\gecko_sdk_suite\v2.5\z3_lite_timer_mg21_v660\
#        -I
#        C:\SiliconLabs\SimplicityStudio\v4\developer\sdks\gecko_sdk_suite\v2.5\z3_lite_timer_mg21_v660\..\..\v2.6\
#        -I
#        C:\SiliconLabs\SimplicityStudio\v4\developer\sdks\gecko_sdk_suite\v2.5\z3_lite_timer_mg21_v660\..\..\v2.6\protocol\zigbee\app\framework\
#        -I
#        C:\SiliconLabs\SimplicityStudio\v4\developer\sdks\gecko_sdk_suite\v2.5\z3_lite_timer_mg21_v660\..\..\v2.6\protocol\zigbee\app\framework\..\..\
#        -I
#        C:\SiliconLabs\SimplicityStudio\v4\developer\sdks\gecko_sdk_suite\v2.5\z3_lite_timer_mg21_v660\..\..\v2.6\protocol\zigbee\app\framework\..\..\stack\
#        -I
#        C:\SiliconLabs\SimplicityStudio\v4\developer\sdks\gecko_sdk_suite\v2.5\z3_lite_timer_mg21_v660\..\..\v2.6\protocol\zigbee\app\framework\..\util\
#        -I
#        C:\SiliconLabs\SimplicityStudio\v4\developer\sdks\gecko_sdk_suite\v2.5\z3_lite_timer_mg21_v660\..\..\v2.6\protocol\zigbee\app\framework\include\
#        -I
#        C:\SiliconLabs\SimplicityStudio\v4\developer\sdks\gecko_sdk_suite\v2.5\z3_lite_timer_mg21_v660\..\..\v2.6\platform\base\hal\
#        -I
#        C:\SiliconLabs\SimplicityStudio\v4\developer\sdks\gecko_sdk_suite\v2.5\z3_lite_timer_mg21_v660\..\..\v2.6\platform\base\hal\plugin\
#        -I
#        C:\SiliconLabs\SimplicityStudio\v4\developer\sdks\gecko_sdk_suite\v2.5\z3_lite_timer_mg21_v660\..\..\v2.6\platform\base\hal\..\
#        -I
#        C:\SiliconLabs\SimplicityStudio\v4\developer\sdks\gecko_sdk_suite\v2.5\z3_lite_timer_mg21_v660\..\..\v2.6\platform\base\hal\micro\cortexm3\efm32\
#        -I
#        C:\SiliconLabs\SimplicityStudio\v4\developer\sdks\gecko_sdk_suite\v2.5\z3_lite_timer_mg21_v660\..\..\v2.6\platform\base\hal\micro\cortexm3\efm32\config\
#        -I
#        C:\SiliconLabs\SimplicityStudio\v4\developer\sdks\gecko_sdk_suite\v2.5\z3_lite_timer_mg21_v660\..\..\v2.6\platform\base\hal\micro\cortexm3\efm32\efr32\
#        -I
#        C:\SiliconLabs\SimplicityStudio\v4\developer\sdks\gecko_sdk_suite\v2.5\z3_lite_timer_mg21_v660\..\..\v2.6\platform\base\hal\..\..\CMSIS\Include\
#        -I
#        C:\SiliconLabs\SimplicityStudio\v4\developer\sdks\gecko_sdk_suite\v2.5\z3_lite_timer_mg21_v660\..\..\v2.6\platform\base\hal\..\..\Device\SiliconLabs\efr32mg21\Include\
#        -I
#        C:\SiliconLabs\SimplicityStudio\v4\developer\sdks\gecko_sdk_suite\v2.5\z3_lite_timer_mg21_v660\..\..\v2.6\platform\base\hal\..\..\emdrv\common\inc\
#        -I
#        C:\SiliconLabs\SimplicityStudio\v4\developer\sdks\gecko_sdk_suite\v2.5\z3_lite_timer_mg21_v660\..\..\v2.6\platform\base\hal\..\..\emdrv\config\
#        -I
#        C:\SiliconLabs\SimplicityStudio\v4\developer\sdks\gecko_sdk_suite\v2.5\z3_lite_timer_mg21_v660\..\..\v2.6\platform\base\hal\..\..\emdrv\dmadrv\inc\
#        -I
#        C:\SiliconLabs\SimplicityStudio\v4\developer\sdks\gecko_sdk_suite\v2.5\z3_lite_timer_mg21_v660\..\..\v2.6\platform\base\hal\..\..\emdrv\gpiointerrupt\inc\
#        -I
#        C:\SiliconLabs\SimplicityStudio\v4\developer\sdks\gecko_sdk_suite\v2.5\z3_lite_timer_mg21_v660\..\..\v2.6\platform\base\hal\..\..\emdrv\rtcdrv\inc\
#        -I
#        C:\SiliconLabs\SimplicityStudio\v4\developer\sdks\gecko_sdk_suite\v2.5\z3_lite_timer_mg21_v660\..\..\v2.6\platform\base\hal\..\..\emdrv\sleep\inc\
#        -I
#        C:\SiliconLabs\SimplicityStudio\v4\developer\sdks\gecko_sdk_suite\v2.5\z3_lite_timer_mg21_v660\..\..\v2.6\platform\base\hal\..\..\emdrv\spidrv\inc\
#        -I
#        C:\SiliconLabs\SimplicityStudio\v4\developer\sdks\gecko_sdk_suite\v2.5\z3_lite_timer_mg21_v660\..\..\v2.6\platform\base\hal\..\..\emdrv\tempdrv\inc\
#        -I
#        C:\SiliconLabs\SimplicityStudio\v4\developer\sdks\gecko_sdk_suite\v2.5\z3_lite_timer_mg21_v660\..\..\v2.6\platform\base\hal\..\..\emdrv\uartdrv\inc\
#        -I
#        C:\SiliconLabs\SimplicityStudio\v4\developer\sdks\gecko_sdk_suite\v2.5\z3_lite_timer_mg21_v660\..\..\v2.6\platform\base\hal\..\..\emdrv\ustimer\inc\
#        -I
#        C:\SiliconLabs\SimplicityStudio\v4\developer\sdks\gecko_sdk_suite\v2.5\z3_lite_timer_mg21_v660\..\..\v2.6\platform\base\hal\..\..\emlib\inc\
#        -I
#        C:\SiliconLabs\SimplicityStudio\v4\developer\sdks\gecko_sdk_suite\v2.5\z3_lite_timer_mg21_v660\..\..\v2.6\platform\base\hal\..\..\middleware\glib\
#        -I
#        C:\SiliconLabs\SimplicityStudio\v4\developer\sdks\gecko_sdk_suite\v2.5\z3_lite_timer_mg21_v660\..\..\v2.6\platform\base\hal\..\..\middleware\glib\glib\
#        -I
#        C:\SiliconLabs\SimplicityStudio\v4\developer\sdks\gecko_sdk_suite\v2.5\z3_lite_timer_mg21_v660\..\..\v2.6\platform\base\hal\..\..\radio\rail_lib\plugin\
#        -I
#        C:\SiliconLabs\SimplicityStudio\v4\developer\sdks\gecko_sdk_suite\v2.5\z3_lite_timer_mg21_v660\..\..\v2.6\platform\base\hal\..\..\radio\rail_lib\chip\efr32\rf\common\cortex\
#        -I
#        C:\SiliconLabs\SimplicityStudio\v4\developer\sdks\gecko_sdk_suite\v2.5\z3_lite_timer_mg21_v660\..\..\v2.6\platform\base\hal\..\..\radio\rail_lib\chip\efr32\rf\rfprotocol\ieee802154\cortex\
#        -I
#        C:\SiliconLabs\SimplicityStudio\v4\developer\sdks\gecko_sdk_suite\v2.5\z3_lite_timer_mg21_v660\..\..\v2.6\platform\halconfig\inc\hal-config\
#        -I
#        C:\SiliconLabs\SimplicityStudio\v4\developer\sdks\gecko_sdk_suite\v2.5\z3_lite_timer_mg21_v660\..\..\v2.6\hardware\module\config\
#        -I
#        C:\SiliconLabs\SimplicityStudio\v4\developer\sdks\gecko_sdk_suite\v2.5\z3_lite_timer_mg21_v660\..\..\v2.6\hardware\kit\common\halconfig\
#        -I
#        C:\SiliconLabs\SimplicityStudio\v4\developer\sdks\gecko_sdk_suite\v2.5\z3_lite_timer_mg21_v660\..\..\v2.6\hardware\kit\common\bsp\
#        -I
#        C:\SiliconLabs\SimplicityStudio\v4\developer\sdks\gecko_sdk_suite\v2.5\z3_lite_timer_mg21_v660\hal-config\
#        -I
#        C:\SiliconLabs\SimplicityStudio\v4\developer\sdks\gecko_sdk_suite\v2.5\z3_lite_timer_mg21_v660\..\..\v2.6\platform\bootloader\
#        -I
#        C:\SiliconLabs\SimplicityStudio\v4\developer\sdks\gecko_sdk_suite\v2.5\z3_lite_timer_mg21_v660\..\..\v2.6\platform\emdrv\nvm3\inc\
#        -I
#        C:\SiliconLabs\SimplicityStudio\v4\developer\sdks\gecko_sdk_suite\v2.5\z3_lite_timer_mg21_v660\..\..\v2.6\platform\radio\rail_lib\chip\efr32\efr32xg2x\
#        -I
#        C:\SiliconLabs\SimplicityStudio\v4\developer\sdks\gecko_sdk_suite\v2.5\z3_lite_timer_mg21_v660\..\..\v2.6\platform\radio\rail_lib\common\
#        -I
#        C:\SiliconLabs\SimplicityStudio\v4\developer\sdks\gecko_sdk_suite\v2.5\z3_lite_timer_mg21_v660\..\..\v2.6\platform\radio\rail_lib\plugin\coexistence\common\
#        -I
#        C:\SiliconLabs\SimplicityStudio\v4\developer\sdks\gecko_sdk_suite\v2.5\z3_lite_timer_mg21_v660\..\..\v2.6\platform\radio\rail_lib\plugin\coexistence\hal\efr32\
#        -I
#        C:\SiliconLabs\SimplicityStudio\v4\developer\sdks\gecko_sdk_suite\v2.5\z3_lite_timer_mg21_v660\..\..\v2.6\platform\radio\rail_lib\plugin\coexistence\protocol\ieee802154\
#        -I
#        C:\SiliconLabs\SimplicityStudio\v4\developer\sdks\gecko_sdk_suite\v2.5\z3_lite_timer_mg21_v660\..\..\v2.6\platform\radio\rail_lib\protocol\ble\
#        -I
#        C:\SiliconLabs\SimplicityStudio\v4\developer\sdks\gecko_sdk_suite\v2.5\z3_lite_timer_mg21_v660\..\..\v2.6\platform\radio\rail_lib\protocol\ieee802154\
#        -I
#        C:\SiliconLabs\SimplicityStudio\v4\developer\sdks\gecko_sdk_suite\v2.5\z3_lite_timer_mg21_v660\..\..\v2.6\platform\radio\rail_lib\protocol\zwave\
#        -I
#        C:\SiliconLabs\SimplicityStudio\v4\developer\sdks\gecko_sdk_suite\v2.5\z3_lite_timer_mg21_v660\..\..\v2.6\util\plugin\plugin-common\mbedtls\
#        -I
#        C:\SiliconLabs\SimplicityStudio\v4\developer\sdks\gecko_sdk_suite\v2.5\z3_lite_timer_mg21_v660\..\..\v2.6\util\third_party\mbedtls\
#        -I
#        C:\SiliconLabs\SimplicityStudio\v4\developer\sdks\gecko_sdk_suite\v2.5\z3_lite_timer_mg21_v660\..\..\v2.6\util\third_party\mbedtls\include\
#        -I
#        C:\SiliconLabs\SimplicityStudio\v4\developer\sdks\gecko_sdk_suite\v2.5\z3_lite_timer_mg21_v660\..\..\v2.6\util\third_party\mbedtls\include\mbedtls\
#        -I
#        C:\SiliconLabs\SimplicityStudio\v4\developer\sdks\gecko_sdk_suite\v2.5\z3_lite_timer_mg21_v660\..\..\v2.6\util\third_party\mbedtls\sl_crypto\include\
#        -Ohz --use_c++_inline)
#    Locale       =  C
#    List file    =  
#        C:\SiliconLabs\SimplicityStudio\v4\developer\sdks\gecko_sdk_suite\v2.5\z3_lite_timer_mg21_v660\build\lst\interpan-soc.lst
#    Object file  =  
#        C:\SiliconLabs\SimplicityStudio\v4\developer\sdks\gecko_sdk_suite\v2.5\z3_lite_timer_mg21_v660\build\obj\interpan-soc.o
#
###############################################################################

C:\SiliconLabs\SimplicityStudio\v4\developer\sdks\gecko_sdk_suite\v2.6\protocol\zigbee\app\framework\plugin\interpan\interpan-soc.c
      1          /***************************************************************************//**
      2           * @file
      3           * @brief SOC-specific code related to the reception and processing of interpan
      4           * messages.
      5           *******************************************************************************
      6           * # License
      7           * <b>Copyright 2018 Silicon Laboratories Inc. www.silabs.com</b>
      8           *******************************************************************************
      9           *
     10           * The licensor of this software is Silicon Laboratories Inc. Your use of this
     11           * software is governed by the terms of Silicon Labs Master Software License
     12           * Agreement (MSLA) available at
     13           * www.silabs.com/about-us/legal/master-software-license-agreement. This
     14           * software is distributed to you in Source Code format and is governed by the
     15           * sections of the MSLA applicable to Source Code.
     16           *
     17           ******************************************************************************/
     18          
     19          #include "app/framework/include/af.h"
     20          #include "interpan.h"
     21          #include "app/framework/util/af-main.h"
     22          

   \                                 In section .rodata, align 4
     23          static const EmberMacFilterMatchData filters[] = {
   \                     filters:
   \        0x0   0x0005 0x0015      DC16 5, 21, 37, 9, 25, 41, 6, 22, 38, 10, 26, 42, 32768
   \               0x0025 0x000
   \              9 0x0019 0x00
   \              29 0x0006 0x0
   \              016 0x0026 0x
   \              000A 0x001A 0
   \              x002A 0x8000 
   \       0x1A   0x00 0x00          DC8 0, 0
     24            EMBER_AF_PLUGIN_INTERPAN_FILTER_LIST
     25              (EMBER_MAC_FILTER_MATCH_END), // terminator
     26          };
     27          
     28          //------------------------------------------------------------------------------
     29          

   \                                 In section .text, align 2, keep-with-next
     30          void emberMacFilterMatchMessageHandler(const EmberMacFilterMatchStruct *macFilterMatchStruct)
     31          {
   \                     emberMacFilterMatchMessageHandler: (+1)
   \        0x0   0xB580             PUSH     {R7,LR}
   \        0x2   0xB0A0             SUB      SP,SP,#+128
     32            uint8_t data[EMBER_AF_MAXIMUM_INTERPAN_LENGTH];
     33            uint8_t length;
     34          
     35            length = emAfCopyMessageIntoRamBuffer(macFilterMatchStruct->message,
     36                                                  data,
     37                                                  EMBER_AF_MAXIMUM_INTERPAN_LENGTH);
   \        0x4   0x7880             LDRB     R0,[R0, #+2]
   \        0x6   0x227D             MOVS     R2,#+125
   \        0x8   0x4669             MOV      R1,SP
   \        0xA   0x....'....        BL       emAfCopyMessageIntoRamBuffer
     38            if (length == 0) {
   \        0xE   0x0001             MOVS     R1,R0
   \       0x10   0xBF1C             ITT      NE 
     39              return;
     40            }
     41          
     42            emAfPluginInterpanProcessMessage(length,
     43                                             data);
   \       0x12   0x4669             MOVNE    R1,SP
   \       0x14   0x....'....        BLNE     emAfPluginInterpanProcessMessage
     44          }
   \       0x18   0xB021             ADD      SP,SP,#+132
   \       0x1A   0xBD00             POP      {PC}             ;; return
     45          

   \                                 In section .text, align 2, keep-with-next
     46          EmberStatus emAfPluginInterpanSendRawMessage(uint8_t length, uint8_t* message)
     47          {
   \                     emAfPluginInterpanSendRawMessage: (+1)
   \        0x0   0x460A             MOV      R2,R1
     48            EmberStatus status;
     49            EmberMessageBuffer buffer = emberFillLinkedBuffers(message, length);
   \        0x2   0x4601             MOV      R1,R0
   \        0x4   0xB538             PUSH     {R3-R5,LR}
   \        0x6   0x4610             MOV      R0,R2
   \        0x8   0x....'....        BL       emberFillLinkedBuffers
   \        0xC   0x4604             MOV      R4,R0
     50            if (buffer == EMBER_NULL_MESSAGE_BUFFER) {
   \        0xE   0x28FF             CMP      R0,#+255
   \       0x10   0xD101             BNE.N    ??emAfPluginInterpanSendRawMessage_0
     51              return EMBER_NO_BUFFERS;
   \       0x12   0x2018             MOVS     R0,#+24
   \       0x14   0xBD32             POP      {R1,R4,R5,PC}
     52            }
     53          
     54            status = emberSendRawMessage(buffer);
   \                     ??emAfPluginInterpanSendRawMessage_0: (+1)
   \       0x16   0x....'....        BL       emberSendRawMessage
   \       0x1A   0x4605             MOV      R5,R0
     55            emberReleaseMessageBuffer(buffer);
   \       0x1C   0x4620             MOV      R0,R4
   \       0x1E   0x....'....        BL       emReleaseMessageBuffer
     56            return status;
   \       0x22   0x4628             MOV      R0,R5
   \       0x24   0xBD32             POP      {R1,R4,R5,PC}    ;; return
     57          }
     58          

   \                                 In section .text, align 2, keep-with-next
     59          void emberAfPluginInterpanInitCallback(void)
     60          {
   \                     emberAfPluginInterpanInitCallback: (+1)
   \        0x0   0xB580             PUSH     {R7,LR}
     61            interpanPluginInit();
   \        0x2   0x....'....        BL       interpanPluginInit
     62          
     63            interpanPluginSetMacMatchFilterEnable(true);
   \        0x6   0x2001             MOVS     R0,#+1
   \        0x8   0xE8BD 0x4002      POP      {R1,LR}
   \        0xC                      REQUIRE interpanPluginSetMacMatchFilterEnable
   \        0xC                      ;; // Fall through to label interpanPluginSetMacMatchFilterEnable
     64          }
     65          

   \                                 In section .text, align 2, keep-with-next
     66          void interpanPluginSetMacMatchFilterEnable(bool enable)
     67          {
   \                     interpanPluginSetMacMatchFilterEnable: (+1)
   \        0x0   0xB510             PUSH     {R4,LR}
   \        0x2   0x0004             MOVS     R4,R0
     68            const EmberMacFilterMatchData* matchData = enable ? filters : NULL;
   \        0x4   0xBF14             ITE      NE 
   \        0x6   0x....             LDRNE.N  R0,??DataTable1
   \        0x8   0x2000             MOVEQ    R0,#+0
     69          
     70            EmberStatus status = emberSetMacFilterMatchList(matchData);
   \        0xA   0x....'....        BL       emberSetMacFilterMatchList
     71            if (status != EMBER_SUCCESS) {
   \        0xE   0xB150             CBZ.N    R0,??interpanPluginSetMacMatchFilterEnable_0
     72              emberAfAppPrintln("ERR: failed %s inter-PAN MAC filter (0x%x)",
     73                                enable ? "enabling" : "disabling",
     74                                status);
   \       0x10   0x2C00             CMP      R4,#+0
   \       0x12   0x4603             MOV      R3,R0
   \       0x14   0x....             LDR.N    R1,??DataTable1_1
   \       0x16   0xBF14             ITE      NE 
   \       0x18   0x....             LDRNE.N  R2,??DataTable1_2
   \       0x1A   0x....             LDREQ.N  R2,??DataTable1_3
   \       0x1C   0x2002             MOVS     R0,#+2
   \       0x1E   0xE8BD 0x4010      POP      {R4,LR}
   \       0x22   0x....'....        B.W      emberAfPrintln
     75            }
     76          }
   \                     ??interpanPluginSetMacMatchFilterEnable_0: (+1)
   \       0x26   0xBD10             POP      {R4,PC}          ;; return
     77          
     78          // Because the stack only handles message buffers we must convert
     79          // the message into buffers before passing it to the stack.  Then
     80          // we must copy the message back into the flat array afterwards.
     81          
     82          // NOTE:  It is expected that when encrypting, the message buffer
     83          // pointed to by *apsFrame is big enough to hold additional
     84          // space for the Auxiliary security header and the MIC.
     85          

   \                                 In section .text, align 2, keep-with-next
     86          EmberStatus emAfInterpanApsCryptMessage(bool encrypt,
     87                                                  uint8_t* apsFrame,
     88                                                  uint8_t* messageLength,
     89                                                  uint8_t apsHeaderLength,
     90                                                  EmberEUI64 remoteEui64)
     91          {
     92            EmberStatus status = EMBER_LIBRARY_NOT_PRESENT;
     93          
     94          #if defined(EMBER_AF_PLUGIN_INTERPAN_ALLOW_APS_ENCRYPTED_MESSAGES)
     95          
     96            EmberMessageBuffer buffer = emberFillLinkedBuffers(apsFrame,
     97                                                               *messageLength);
     98            if (buffer == EMBER_NULL_MESSAGE_BUFFER) {
     99              return EMBER_NO_BUFFERS;
    100            }
    101          
    102            status = emberApsCryptMessage(encrypt,
    103                                          buffer,
    104                                          apsHeaderLength,
    105                                          remoteEui64);
    106            if (status == EMBER_SUCCESS) {
    107              // It is expected that when encrypting, the message is big enough to hold
    108              // the additional data (AUX header and MIC)
    109              // Decrypting will shrink the message, removing the AUX header and MIC.
    110              emberCopyFromLinkedBuffers(buffer,
    111                                         0,
    112                                         apsFrame,
    113                                         emberMessageBufferLength(buffer));
    114              *messageLength = emberMessageBufferLength(buffer);
    115            }
    116            emberReleaseMessageBuffer(buffer);
    117          
    118          #endif
    119          
    120            return status;
   \                     emAfInterpanApsCryptMessage: (+1)
   \        0x0   0x20B5             MOVS     R0,#+181
   \        0x2   0x4770             BX       LR               ;; return
    121          }

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable1:
   \        0x0   0x....'....        DC32     filters

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable1_1:
   \        0x0   0x....'....        DC32     ?_0

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable1_2:
   \        0x0   0x....'....        DC32     ?_1

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable1_3:
   \        0x0   0x....'....        DC32     ?_2

   \                                 In section .rodata, align 4
   \                     ?_0:
   \        0x0   0x45 0x52          DC8 "ERR: failed %s inter-PAN MAC filter (0x%x)"
   \              0x52 0x3A    
   \              0x20 0x66    
   \              0x61 0x69    
   \              0x6C 0x65    
   \              0x64 0x20    
   \              0x25 0x73    
   \              0x20 0x69    
   \              0x6E 0x74    
   \              0x65 0x72    
   \              0x2D 0x50    
   \              0x41 0x4E    
   \              0x20 0x4D    
   \              0x41 0x43    
   \              0x20 0x66    
   \              0x69 0x6C    
   \              0x74 0x65    
   \              0x72 0x20    
   \              0x28 0x30    
   \              0x78 0x25    
   \              0x78 0x29    
   \              0x00         
   \       0x2B   0x00               DC8 0

   \                                 In section .rodata, align 4
   \                     ?_1:
   \        0x0   0x65 0x6E          DC8 "enabling"
   \              0x61 0x62    
   \              0x6C 0x69    
   \              0x6E 0x67    
   \              0x00         
   \        0x9   0x00 0x00          DC8 0, 0, 0
   \              0x00         

   \                                 In section .rodata, align 4
   \                     ?_2:
   \        0x0   0x64 0x69          DC8 "disabling"
   \              0x73 0x61    
   \              0x62 0x6C    
   \              0x69 0x6E    
   \              0x67 0x00    
   \        0xA   0x00 0x00          DC8 0, 0

   Maximum stack usage in bytes:

   .cstack Function
   ------- --------
       0   emAfInterpanApsCryptMessage
      16   emAfPluginInterpanSendRawMessage
        16   -> emReleaseMessageBuffer
        16   -> emberFillLinkedBuffers
        16   -> emberSendRawMessage
       8   emberAfPluginInterpanInitCallback
         8   -> interpanPluginInit
         0   -> interpanPluginSetMacMatchFilterEnable
     136   emberMacFilterMatchMessageHandler
       136   -> emAfCopyMessageIntoRamBuffer
       136   -> emAfPluginInterpanProcessMessage
       8   interpanPluginSetMacMatchFilterEnable
         0   -> emberAfPrintln
         8   -> emberSetMacFilterMatchList


   Section sizes:

   Bytes  Function/Label
   -----  --------------
       4  ??DataTable1
       4  ??DataTable1_1
       4  ??DataTable1_2
       4  ??DataTable1_3
      44  ?_0
      12  ?_1
      12  ?_2
       4  emAfInterpanApsCryptMessage
      38  emAfPluginInterpanSendRawMessage
      12  emberAfPluginInterpanInitCallback
      28  emberMacFilterMatchMessageHandler
      28  filters
      40  interpanPluginSetMacMatchFilterEnable

 
  96 bytes in section .rodata
 138 bytes in section .text
 
 138 bytes of CODE  memory
  96 bytes of CONST memory

Errors: none
Warnings: none
