###############################################################################
#
# IAR ANSI C/C++ Compiler V8.32.2.178/W32 for ARM         14/Jun/2019  13:19:20
# Copyright 1999-2018 IAR Systems AB.
#
#    Cpu mode     =  
#    Endian       =  little
#    Source file  =  
#        C:\SiliconLabs\SimplicityStudio\v4\developer\sdks\gecko_sdk_suite\v2.6\platform\base\hal\micro\cortexm3\efm32\micro-common.c
#    Command line =  
#        -f C:\Users\alji\AppData\Local\Temp\EWC552.tmp
#        (C:\SiliconLabs\SimplicityStudio\v4\developer\sdks\gecko_sdk_suite\v2.6\platform\base\hal\micro\cortexm3\efm32\micro-common.c
#        -D LOCAL_STORAGE_BTL -D CORTEXM3 -D CORTEXM3_EFR32 -D
#        CORTEXM3_EFR32_MICRO -D CORTEXM3_EFM32_MICRO -D
#        EFR32_SERIES2_CONFIG1_MICRO -D EFR32MG21 -D EFR32MG21A010F1024IM32 -D
#        "ATTRIBUTE_STORAGE_CONFIGURATION=\"z3_lite_timer_mg21_v660_endpoint_config.h\""
#        -D "CONFIGURATION_HEADER=\"app/framework/util/config.h\"" -D
#        "GENERATED_TOKEN_HEADER=\"z3_lite_timer_mg21_v660_tokens.h\"" -D
#        "PLATFORM_HEADER=\"platform/base/hal/micro/cortexm3/compiler/iar.h\""
#        -D "ZA_GENERATED_HEADER=\"z3_lite_timer_mg21_v660.h\"" -D
#        "__SOURCEFILE__=\"micro-common.c\"" -D PSSTORE_SIZE=0 -D
#        LONGTOKEN_SIZE=0 -D LOCKBITS_IN_MAINFLASH_SIZE=8192 -D HAL_CONFIG=1 -D
#        EMBER_AF_USE_HWCONF -D LED_BLINK_PERIOD_MS=1000 -D NO_LED=1 -D
#        "EMBER_AF_API_EMBER_TYPES=\"stack/include/ember-types.h\"" -D
#        "EMBER_AF_API_DEBUG_PRINT=\"app/framework/util/print.h\"" -D
#        "EMBER_AF_API_AF_HEADER=\"app/framework/include/af.h\"" -D
#        "EMBER_AF_API_AF_SECURITY_HEADER=\"app/framework/security/af-security.h\""
#        -D EMBER_STACK_ZIGBEE -D
#        "MBEDTLS_CONFIG_FILE=\"mbedtls-config-generated.h\"" -D USE_NVM3 -D
#        NVM3_DEFAULT_NVM_SIZE=NVM3_FLASH_PAGES*FLASH_PAGE_SIZE -D
#        EMLIB_USER_CONFIG -D HAL_BULBPWM_ENABLE=1 -D
#        HAL_BULBPWM_FREQUENCY=1000 -D
#        "APPLICATION_TOKEN_HEADER=\"znet-token.h\"" -D
#        "APPLICATION_MFG_TOKEN_HEADER=\"znet-mfg-token.h\"" -D
#        "MBEDTLS_DEVICE_ACCELERATION_CONFIG_FILE=\"configs/config-device-acceleration.h\""
#        -D
#        "MBEDTLS_DEVICE_ACCELERATION_CONFIG_APP_FILE=\"config-device-acceleration-app.h\""
#        -D NVM3_FLASH_PAGES=4 -D NVM3_DEFAULT_CACHE_SIZE=200 -D
#        NVM3_MAX_OBJECT_SIZE=254 -D NVM3_DEFAULT_REPACK_HEADROOM=0 -D
#        PHY_RAIL=1 -lC
#        C:\SiliconLabs\SimplicityStudio\v4\developer\sdks\gecko_sdk_suite\v2.5\z3_lite_timer_mg21_v660\build\lst
#        --diag_suppress Pa050 -o
#        C:\SiliconLabs\SimplicityStudio\v4\developer\sdks\gecko_sdk_suite\v2.5\z3_lite_timer_mg21_v660\build\obj
#        --no_unroll --no_clustering --debug --endian=little
#        --cpu=Cortex-M33.no_dsp --cmse --no_path_in_file_macros
#        --separate_cluster_for_initialized_variables -e --fpu=None
#        --dlib_config "C:\Program Files (x86)\IAR Systems\Embedded Workbench
#        8.2\arm\inc\c\DLib_Config_Normal.h" -I
#        C:\SiliconLabs\SimplicityStudio\v4\developer\sdks\gecko_sdk_suite\v2.6\platform\base\hal\micro\cortexm3\efm32\
#        -I
#        C:\SiliconLabs\SimplicityStudio\v4\developer\sdks\gecko_sdk_suite\v2.5\z3_lite_timer_mg21_v660\
#        -I
#        C:\SiliconLabs\SimplicityStudio\v4\developer\sdks\gecko_sdk_suite\v2.5\z3_lite_timer_mg21_v660\..\..\v2.6\
#        -I
#        C:\SiliconLabs\SimplicityStudio\v4\developer\sdks\gecko_sdk_suite\v2.5\z3_lite_timer_mg21_v660\..\..\v2.6\protocol\zigbee\app\framework\
#        -I
#        C:\SiliconLabs\SimplicityStudio\v4\developer\sdks\gecko_sdk_suite\v2.5\z3_lite_timer_mg21_v660\..\..\v2.6\protocol\zigbee\app\framework\..\..\
#        -I
#        C:\SiliconLabs\SimplicityStudio\v4\developer\sdks\gecko_sdk_suite\v2.5\z3_lite_timer_mg21_v660\..\..\v2.6\protocol\zigbee\app\framework\..\..\stack\
#        -I
#        C:\SiliconLabs\SimplicityStudio\v4\developer\sdks\gecko_sdk_suite\v2.5\z3_lite_timer_mg21_v660\..\..\v2.6\protocol\zigbee\app\framework\..\util\
#        -I
#        C:\SiliconLabs\SimplicityStudio\v4\developer\sdks\gecko_sdk_suite\v2.5\z3_lite_timer_mg21_v660\..\..\v2.6\protocol\zigbee\app\framework\include\
#        -I
#        C:\SiliconLabs\SimplicityStudio\v4\developer\sdks\gecko_sdk_suite\v2.5\z3_lite_timer_mg21_v660\..\..\v2.6\platform\base\hal\
#        -I
#        C:\SiliconLabs\SimplicityStudio\v4\developer\sdks\gecko_sdk_suite\v2.5\z3_lite_timer_mg21_v660\..\..\v2.6\platform\base\hal\plugin\
#        -I
#        C:\SiliconLabs\SimplicityStudio\v4\developer\sdks\gecko_sdk_suite\v2.5\z3_lite_timer_mg21_v660\..\..\v2.6\platform\base\hal\..\
#        -I
#        C:\SiliconLabs\SimplicityStudio\v4\developer\sdks\gecko_sdk_suite\v2.5\z3_lite_timer_mg21_v660\..\..\v2.6\platform\base\hal\micro\cortexm3\efm32\
#        -I
#        C:\SiliconLabs\SimplicityStudio\v4\developer\sdks\gecko_sdk_suite\v2.5\z3_lite_timer_mg21_v660\..\..\v2.6\platform\base\hal\micro\cortexm3\efm32\config\
#        -I
#        C:\SiliconLabs\SimplicityStudio\v4\developer\sdks\gecko_sdk_suite\v2.5\z3_lite_timer_mg21_v660\..\..\v2.6\platform\base\hal\micro\cortexm3\efm32\efr32\
#        -I
#        C:\SiliconLabs\SimplicityStudio\v4\developer\sdks\gecko_sdk_suite\v2.5\z3_lite_timer_mg21_v660\..\..\v2.6\platform\base\hal\..\..\CMSIS\Include\
#        -I
#        C:\SiliconLabs\SimplicityStudio\v4\developer\sdks\gecko_sdk_suite\v2.5\z3_lite_timer_mg21_v660\..\..\v2.6\platform\base\hal\..\..\Device\SiliconLabs\efr32mg21\Include\
#        -I
#        C:\SiliconLabs\SimplicityStudio\v4\developer\sdks\gecko_sdk_suite\v2.5\z3_lite_timer_mg21_v660\..\..\v2.6\platform\base\hal\..\..\emdrv\common\inc\
#        -I
#        C:\SiliconLabs\SimplicityStudio\v4\developer\sdks\gecko_sdk_suite\v2.5\z3_lite_timer_mg21_v660\..\..\v2.6\platform\base\hal\..\..\emdrv\config\
#        -I
#        C:\SiliconLabs\SimplicityStudio\v4\developer\sdks\gecko_sdk_suite\v2.5\z3_lite_timer_mg21_v660\..\..\v2.6\platform\base\hal\..\..\emdrv\dmadrv\inc\
#        -I
#        C:\SiliconLabs\SimplicityStudio\v4\developer\sdks\gecko_sdk_suite\v2.5\z3_lite_timer_mg21_v660\..\..\v2.6\platform\base\hal\..\..\emdrv\gpiointerrupt\inc\
#        -I
#        C:\SiliconLabs\SimplicityStudio\v4\developer\sdks\gecko_sdk_suite\v2.5\z3_lite_timer_mg21_v660\..\..\v2.6\platform\base\hal\..\..\emdrv\rtcdrv\inc\
#        -I
#        C:\SiliconLabs\SimplicityStudio\v4\developer\sdks\gecko_sdk_suite\v2.5\z3_lite_timer_mg21_v660\..\..\v2.6\platform\base\hal\..\..\emdrv\sleep\inc\
#        -I
#        C:\SiliconLabs\SimplicityStudio\v4\developer\sdks\gecko_sdk_suite\v2.5\z3_lite_timer_mg21_v660\..\..\v2.6\platform\base\hal\..\..\emdrv\spidrv\inc\
#        -I
#        C:\SiliconLabs\SimplicityStudio\v4\developer\sdks\gecko_sdk_suite\v2.5\z3_lite_timer_mg21_v660\..\..\v2.6\platform\base\hal\..\..\emdrv\tempdrv\inc\
#        -I
#        C:\SiliconLabs\SimplicityStudio\v4\developer\sdks\gecko_sdk_suite\v2.5\z3_lite_timer_mg21_v660\..\..\v2.6\platform\base\hal\..\..\emdrv\uartdrv\inc\
#        -I
#        C:\SiliconLabs\SimplicityStudio\v4\developer\sdks\gecko_sdk_suite\v2.5\z3_lite_timer_mg21_v660\..\..\v2.6\platform\base\hal\..\..\emdrv\ustimer\inc\
#        -I
#        C:\SiliconLabs\SimplicityStudio\v4\developer\sdks\gecko_sdk_suite\v2.5\z3_lite_timer_mg21_v660\..\..\v2.6\platform\base\hal\..\..\emlib\inc\
#        -I
#        C:\SiliconLabs\SimplicityStudio\v4\developer\sdks\gecko_sdk_suite\v2.5\z3_lite_timer_mg21_v660\..\..\v2.6\platform\base\hal\..\..\middleware\glib\
#        -I
#        C:\SiliconLabs\SimplicityStudio\v4\developer\sdks\gecko_sdk_suite\v2.5\z3_lite_timer_mg21_v660\..\..\v2.6\platform\base\hal\..\..\middleware\glib\glib\
#        -I
#        C:\SiliconLabs\SimplicityStudio\v4\developer\sdks\gecko_sdk_suite\v2.5\z3_lite_timer_mg21_v660\..\..\v2.6\platform\base\hal\..\..\radio\rail_lib\plugin\
#        -I
#        C:\SiliconLabs\SimplicityStudio\v4\developer\sdks\gecko_sdk_suite\v2.5\z3_lite_timer_mg21_v660\..\..\v2.6\platform\base\hal\..\..\radio\rail_lib\chip\efr32\rf\common\cortex\
#        -I
#        C:\SiliconLabs\SimplicityStudio\v4\developer\sdks\gecko_sdk_suite\v2.5\z3_lite_timer_mg21_v660\..\..\v2.6\platform\base\hal\..\..\radio\rail_lib\chip\efr32\rf\rfprotocol\ieee802154\cortex\
#        -I
#        C:\SiliconLabs\SimplicityStudio\v4\developer\sdks\gecko_sdk_suite\v2.5\z3_lite_timer_mg21_v660\..\..\v2.6\platform\halconfig\inc\hal-config\
#        -I
#        C:\SiliconLabs\SimplicityStudio\v4\developer\sdks\gecko_sdk_suite\v2.5\z3_lite_timer_mg21_v660\..\..\v2.6\hardware\module\config\
#        -I
#        C:\SiliconLabs\SimplicityStudio\v4\developer\sdks\gecko_sdk_suite\v2.5\z3_lite_timer_mg21_v660\..\..\v2.6\hardware\kit\common\halconfig\
#        -I
#        C:\SiliconLabs\SimplicityStudio\v4\developer\sdks\gecko_sdk_suite\v2.5\z3_lite_timer_mg21_v660\..\..\v2.6\hardware\kit\common\bsp\
#        -I
#        C:\SiliconLabs\SimplicityStudio\v4\developer\sdks\gecko_sdk_suite\v2.5\z3_lite_timer_mg21_v660\hal-config\
#        -I
#        C:\SiliconLabs\SimplicityStudio\v4\developer\sdks\gecko_sdk_suite\v2.5\z3_lite_timer_mg21_v660\..\..\v2.6\platform\bootloader\
#        -I
#        C:\SiliconLabs\SimplicityStudio\v4\developer\sdks\gecko_sdk_suite\v2.5\z3_lite_timer_mg21_v660\..\..\v2.6\platform\emdrv\nvm3\inc\
#        -I
#        C:\SiliconLabs\SimplicityStudio\v4\developer\sdks\gecko_sdk_suite\v2.5\z3_lite_timer_mg21_v660\..\..\v2.6\platform\radio\rail_lib\chip\efr32\efr32xg2x\
#        -I
#        C:\SiliconLabs\SimplicityStudio\v4\developer\sdks\gecko_sdk_suite\v2.5\z3_lite_timer_mg21_v660\..\..\v2.6\platform\radio\rail_lib\common\
#        -I
#        C:\SiliconLabs\SimplicityStudio\v4\developer\sdks\gecko_sdk_suite\v2.5\z3_lite_timer_mg21_v660\..\..\v2.6\platform\radio\rail_lib\plugin\coexistence\common\
#        -I
#        C:\SiliconLabs\SimplicityStudio\v4\developer\sdks\gecko_sdk_suite\v2.5\z3_lite_timer_mg21_v660\..\..\v2.6\platform\radio\rail_lib\plugin\coexistence\hal\efr32\
#        -I
#        C:\SiliconLabs\SimplicityStudio\v4\developer\sdks\gecko_sdk_suite\v2.5\z3_lite_timer_mg21_v660\..\..\v2.6\platform\radio\rail_lib\plugin\coexistence\protocol\ieee802154\
#        -I
#        C:\SiliconLabs\SimplicityStudio\v4\developer\sdks\gecko_sdk_suite\v2.5\z3_lite_timer_mg21_v660\..\..\v2.6\platform\radio\rail_lib\protocol\ble\
#        -I
#        C:\SiliconLabs\SimplicityStudio\v4\developer\sdks\gecko_sdk_suite\v2.5\z3_lite_timer_mg21_v660\..\..\v2.6\platform\radio\rail_lib\protocol\ieee802154\
#        -I
#        C:\SiliconLabs\SimplicityStudio\v4\developer\sdks\gecko_sdk_suite\v2.5\z3_lite_timer_mg21_v660\..\..\v2.6\platform\radio\rail_lib\protocol\zwave\
#        -I
#        C:\SiliconLabs\SimplicityStudio\v4\developer\sdks\gecko_sdk_suite\v2.5\z3_lite_timer_mg21_v660\..\..\v2.6\util\plugin\plugin-common\mbedtls\
#        -I
#        C:\SiliconLabs\SimplicityStudio\v4\developer\sdks\gecko_sdk_suite\v2.5\z3_lite_timer_mg21_v660\..\..\v2.6\util\third_party\mbedtls\
#        -I
#        C:\SiliconLabs\SimplicityStudio\v4\developer\sdks\gecko_sdk_suite\v2.5\z3_lite_timer_mg21_v660\..\..\v2.6\util\third_party\mbedtls\include\
#        -I
#        C:\SiliconLabs\SimplicityStudio\v4\developer\sdks\gecko_sdk_suite\v2.5\z3_lite_timer_mg21_v660\..\..\v2.6\util\third_party\mbedtls\include\mbedtls\
#        -I
#        C:\SiliconLabs\SimplicityStudio\v4\developer\sdks\gecko_sdk_suite\v2.5\z3_lite_timer_mg21_v660\..\..\v2.6\util\third_party\mbedtls\sl_crypto\include\
#        -Ohz --use_c++_inline)
#    Locale       =  C
#    List file    =  
#        C:\SiliconLabs\SimplicityStudio\v4\developer\sdks\gecko_sdk_suite\v2.5\z3_lite_timer_mg21_v660\build\lst\micro-common.lst
#    Object file  =  
#        C:\SiliconLabs\SimplicityStudio\v4\developer\sdks\gecko_sdk_suite\v2.5\z3_lite_timer_mg21_v660\build\obj\micro-common.o
#
###############################################################################

C:\SiliconLabs\SimplicityStudio\v4\developer\sdks\gecko_sdk_suite\v2.6\platform\base\hal\micro\cortexm3\efm32\micro-common.c
      1          /***************************************************************************//**
      2           * @file
      3           * @brief EFM micro specific HAL functions common to full and minimal hal
      4           *******************************************************************************
      5           * # License
      6           * <b>Copyright 2018 Silicon Laboratories Inc. www.silabs.com</b>
      7           *******************************************************************************
      8           *
      9           * The licensor of this software is Silicon Laboratories Inc. Your use of this
     10           * software is governed by the terms of Silicon Labs Master Software License
     11           * Agreement (MSLA) available at
     12           * www.silabs.com/about-us/legal/master-software-license-agreement. This
     13           * software is distributed to you in Source Code format and is governed by the
     14           * sections of the MSLA applicable to Source Code.
     15           *
     16           ******************************************************************************/
     17          #include PLATFORM_HEADER
     18          #include "em_device.h"
     19          #include "em_wdog.h"
     20          #include "em_cmu.h"
     21          #include "em_core.h"
     22          #include "em_rmu.h"
     23          #include "em_gpio.h"
     24          
     25          #include "include/error.h"
     26          #include "hal/micro/micro-common.h"
     27          #include "hal/micro/cortexm3/efm32/micro-common.h"
     28          #include "hal/plugin/adc/adc.h"
     29          #include "ustimer.h"
     30          #include "watchdog.h"
     31          
     32          #if defined(BOARD_HEADER) && !defined(MINIMAL_HAL)
     33            #include BOARD_HEADER
     34          #endif //defined(BOARD_HEADER)
     35          
     36          // -----------------------------------------------------------------------------
     37          // Watchdog Functions
     38          #if defined(WDOG_IF_WARN) && !defined(BOOTLOADER)

   \                                 In section .text, align 2, keep-with-next
     39          void WDOG0_IRQHandler(void)
     40          {
     41            NMI_Handler();
   \                     WDOG0_IRQHandler: (+1)
   \        0x0   0x....'....        B.W      NMI_Handler
     42          }
     43          
     44          #endif
     45          

   \                                 In section .text, align 2, keep-with-next
     46          void halInternalEnableWatchDog(void)
     47          {
   \                     halInternalEnableWatchDog: (+1)
   \        0x0   0xB57F             PUSH     {R0-R6,LR}
     48            /* Enable LE interface */
     49          #if !defined(_SILICON_LABS_32B_SERIES_2)
     50            CMU_ClockEnable(cmuClock_CORELE, true);
     51            CMU_OscillatorEnable(cmuOsc_LFRCO, true, true);
     52          #endif
     53          
     54            /* Make sure FULL reset is used on WDOG timeout */
     55          #if defined(_RMU_CTRL_WDOGRMODE_MASK)
     56            RMU_ResetControl(rmuResetWdog, rmuResetModeFull);
     57          #endif
     58          
     59            /* Trigger watchdog reset after 2 seconds (64k / 32k)
     60             * warning interrupt is triggered after 1.5 seconds (75% of timeout). */
     61            WDOG_Init_TypeDef init = WDOG_INIT_DEFAULT;
   \        0x2   0x....             LDR.N    R1,??DataTable10
   \        0x4   0xE891 0x001C      LDM      R1,{R2-R4}
   \        0x8   0x4668             MOV      R0,SP
     62            init.enable = true;
     63            init.perSel = wdogPeriod_64k;
     64            init.warnSel = wdogWarnTime75pct;
   \        0xA   0x2103             MOVS     R1,#+3
   \        0xC   0xE880 0x001C      STM      R0,{R2-R4}
   \       0x10   0x2501             MOVS     R5,#+1
   \       0x12   0x260D             MOVS     R6,#+13
   \       0x14   0xF88D 0x1007      STRB     R1,[SP, #+7]
   \       0x18   0xF88D 0x5000      STRB     R5,[SP, #+0]
   \       0x1C   0xF88D 0x6006      STRB     R6,[SP, #+6]
     65          
     66          #if defined(_WDOG_CTRL_CLKSEL_MASK)
     67            init.clkSel = wdogClkSelLFRCO;
     68          #else
     69            // Series 2 devices select watchdog oscillator with the CMU.
     70            CMU_ClockSelectSet(cmuClock_WDOG0, cmuSelect_LFRCO);
   \       0x20   0x2108             MOVS     R1,#+8
   \       0x22   0x2023             MOVS     R0,#+35
   \       0x24   0x....'....        BL       CMU_ClockSelectSet
     71          #endif
     72          
     73            WDOGn_Init(DEFAULT_WDOG, &init);
   \       0x28   0x4669             MOV      R1,SP
   \       0x2A   0x....             LDR.N    R0,??DataTable10_1  ;; 0x4a018000
   \       0x2C   0x....'....        BL       WDOGn_Init
     74          
     75            /* Enable WARN interrupt. */
     76          #if defined(WDOG_IF_WARN) && !defined(BOOTLOADER)
     77            NVIC_ClearPendingIRQ(WDOG0_IRQn);
   \       0x30   0xF44F 0x6000      MOV      R0,#+2048
   \       0x34   0x....             LDR.N    R1,??DataTable10_2  ;; 0xe000e284
   \       0x36   0x6008             STR      R0,[R1, #+0]
     78            WDOGn_IntClear(DEFAULT_WDOG, WDOG_IF_WARN);
   \       0x38   0x2202             MOVS     R2,#+2
   \       0x3A   0x....             LDR.N    R3,??DataTable10_3  ;; 0x4a01a018
   \       0x3C   0x601A             STR      R2,[R3, #+0]
     79            NVIC_EnableIRQ(WDOG0_IRQn);
   \       0x3E   0x....             LDR.N    R4,??DataTable10_4  ;; 0xe000e104
   \       0x40   0x6020             STR      R0,[R4, #+0]
     80            WDOGn_IntEnable(DEFAULT_WDOG, WDOG_IEN_WARN);
   \       0x42   0x....             LDR.N    R1,??DataTable10_5  ;; 0x4a01901c
   \       0x44   0x600A             STR      R2,[R1, #+0]
     81          #endif
     82          }
   \       0x46   0xBD7F             POP      {R0-R6,PC}       ;; return
     83          

   \                                 In section .text, align 2, keep-with-next
     84          void halInternalResetWatchDog(void)
     85          {
     86            WDOGn_Feed(DEFAULT_WDOG);
   \                     halInternalResetWatchDog: (+1)
   \        0x0   0x....             LDR.N    R0,??DataTable10_1  ;; 0x4a018000
   \        0x2   0x....'....        B.W      WDOGn_Feed
     87          }
     88          

   \                                 In section .text, align 2, keep-with-next
     89          void halInternalDisableWatchDog(uint8_t magicKey)
     90          {
     91            if ( magicKey == MICRO_DISABLE_WATCH_DOG_KEY ) {
   \                     halInternalDisableWatchDog: (+1)
   \        0x0   0x28A5             CMP      R0,#+165
   \        0x2   0xD103             BNE.N    ??halInternalDisableWatchDog_0
     92              WDOGn_Enable(DEFAULT_WDOG, false);
   \        0x4   0x2100             MOVS     R1,#+0
   \        0x6   0x....             LDR.N    R0,??DataTable10_1  ;; 0x4a018000
   \        0x8   0x....'....        B.W      WDOGn_Enable
     93            }
     94          }
   \                     ??halInternalDisableWatchDog_0: (+1)
   \        0xC   0x4770             BX       LR               ;; return
     95          

   \                                 In section .text, align 2, keep-with-next
     96          bool halInternalWatchDogEnabled(void)
     97          {
     98            return WDOGn_IsEnabled(DEFAULT_WDOG);
   \                     halInternalWatchDogEnabled: (+1)
   \        0x0   0x....             LDR.N    R0,??DataTable10_6  ;; 0x4a018004
   \        0x2   0x6800             LDR      R0,[R0, #+0]
   \        0x4   0x....             B.N      ??Subroutine1_0
     99          }

   \                                 In section .text, align 2, keep-with-next
   \                     ?Subroutine1: (+1)
   \        0x0   0x40C8             LSRS     R0,R0,R1
   \                     ??Subroutine1_0: (+1)
   \        0x2   0xF000 0x0001      AND      R0,R0,#0x1
   \        0x6   0x4770             BX       LR               ;; return
    100          

   \                                 In section .text, align 2, keep-with-next
    101          void halInternalWatchDogSleep(void)
    102          {
   \                     halInternalWatchDogSleep: (+1)
   \        0x0   0x....             LDR.N    R1,??DataTable10_7  ;; 0x4a018024
    103            // Wait for potential watchdog reset commands to finish. Watchdog commands
    104            // in progress while entering EM2 will be aborted unless we wait for the
    105            // syncbusy flag to clear.
    106            while (DEFAULT_WDOG->SYNCBUSY != 0U) {
   \                     ??halInternalWatchDogSleep_0: (+1)
   \        0x2   0x6808             LDR      R0,[R1, #+0]
   \        0x4   0x2800             CMP      R0,#+0
   \        0x6   0xD1FC             BNE.N    ??halInternalWatchDogSleep_0
    107            }
    108          }
   \        0x8   0x4770             BX       LR               ;; return
    109          
    110          //------------------------------------------------------------------------------
    111          // GPIO Functions
    112          

   \                                 In section .text, align 2, keep-with-next
    113          void halGpioSetConfig(uint32_t gpio, HalGpioCfg_t config)
    114          {
   \                     halGpioSetConfig: (+1)
   \        0x0   0xB538             PUSH     {R3-R5,LR}
   \        0x2   0x4604             MOV      R4,R0
   \        0x4   0x460D             MOV      R5,R1
    115            GPIO_PinModeSet(GPIO_PORT(gpio), GPIO_PIN(gpio),
    116                            (GPIO_Mode_TypeDef)config, halGpioReadOutput(gpio));
   \        0x6   0x....'....        BL       halGpioReadOutput
   \        0xA   0xF004 0x010F      AND      R1,R4,#0xF
   \        0xE   0x4603             MOV      R3,R0
   \       0x10   0x0524             LSLS     R4,R4,#+20
   \       0x12   0x462A             MOV      R2,R5
   \       0x14   0x0E20             LSRS     R0,R4,#+24
   \       0x16   0xB001             ADD      SP,SP,#+4
   \       0x18   0xE8BD 0x4030      POP      {R4,R5,LR}
   \       0x1C   0x....'....        B.W      GPIO_PinModeSet
    117          }
    118          

   \                                 In section .text, align 2, keep-with-next
    119          HalGpioCfg_t halGpioGetConfig(uint32_t gpio)
    120          {
   \                     halGpioGetConfig: (+1)
   \        0x0   0xB538             PUSH     {R3-R5,LR}
    121            // Unfortunately, there is no emlib API for this
    122            uint8_t port = GPIO_PORT(gpio);
   \        0x2   0x0504             LSLS     R4,R0,#+20
   \        0x4   0x0E24             LSRS     R4,R4,#+24
    123            uint8_t pin  = GPIO_PIN(gpio);
   \        0x6   0xF000 0x050F      AND      R5,R0,#0xF
    124            assert(GPIO_PORT_PIN_VALID(port, pin));
   \        0xA   0xBF08             IT       EQ 
   \        0xC   0x207F             MOVEQ    R0,#+127
   \        0xE   0xD00A             BEQ.N    ??halGpioGetConfig_0
   \       0x10   0x2C01             CMP      R4,#+1
   \       0x12   0xBF08             IT       EQ 
   \       0x14   0x2003             MOVEQ    R0,#+3
   \       0x16   0xD006             BEQ.N    ??halGpioGetConfig_0
   \       0x18   0x2C02             CMP      R4,#+2
   \       0x1A   0xBF08             IT       EQ 
   \       0x1C   0x203F             MOVEQ    R0,#+63
   \       0x1E   0xD002             BEQ.N    ??halGpioGetConfig_0
   \       0x20   0x2C03             CMP      R4,#+3
   \       0x22   0xD103             BNE.N    ??halGpioGetConfig_1
   \       0x24   0x201F             MOVS     R0,#+31
   \                     ??halGpioGetConfig_0: (+1)
   \       0x26   0x40E8             LSRS     R0,R0,R5
   \       0x28   0x07C2             LSLS     R2,R0,#+31
   \       0x2A   0xD403             BMI.N    ??halGpioGetConfig_2
   \                     ??halGpioGetConfig_1: (+1)
   \       0x2C   0x217C             MOVS     R1,#+124
   \       0x2E   0x....             LDR.N    R0,??DataTable10_8
   \       0x30   0x....'....        BL       halInternalAssertFailed
    125            return (HalGpioCfg_t)
    126                   ((BUS_RegMaskedRead((pin < 8) ? &GPIO->P[port].MODEL
    127                                       : &GPIO->P[port].MODEH,
    128                                       0xF << ((pin % 8) * 4))) >> ((pin % 8) * 4));
   \                     ??halGpioGetConfig_2: (+1)
   \       0x34   0x2030             MOVS     R0,#+48
   \       0x36   0x4344             MULS     R4,R0,R4
   \       0x38   0x....             LDR.N    R1,??DataTable10_9  ;; 0x4003c000
   \       0x3A   0x1908             ADDS     R0,R1,R4
   \       0x3C   0x2D08             CMP      R5,#+8
   \       0x3E   0xBFB4             ITE      LT 
   \       0x40   0x1D00             ADDLT    R0,R0,#+4
   \       0x42   0x300C             ADDGE    R0,R0,#+12
   \       0x44   0x08A9             LSRS     R1,R5,#+2
   \       0x46   0xEB05 0x7251      ADD      R2,R5,R1, LSR #+29
   \       0x4A   0x6800             LDR      R0,[R0, #+0]
   \       0x4C   0x210F             MOVS     R1,#+15
   \       0x4E   0x08D2             LSRS     R2,R2,#+3
   \       0x50   0xEBA5 0x05C2      SUB      R5,R5,R2, LSL #+3
   \       0x54   0x00AD             LSLS     R5,R5,#+2
   \       0x56   0x40A9             LSLS     R1,R1,R5
   \       0x58   0x4008             ANDS     R0,R1,R0
   \       0x5A   0x40E8             LSRS     R0,R0,R5
   \       0x5C   0xB2C0             UXTB     R0,R0
   \       0x5E   0xBD32             POP      {R1,R4,R5,PC}    ;; return
    129          }
    130          

   \                                 In section .text, align 2, keep-with-next
    131          void halGpioClear(uint32_t gpio)
    132          {
    133            GPIO_PinOutClear(GPIO_PORT(gpio), GPIO_PIN(gpio));
   \                     halGpioClear: (+1)
   \        0x0   0x0503             LSLS     R3,R0,#+20
   \        0x2   0x0E1B             LSRS     R3,R3,#+24
   \        0x4   0x2130             MOVS     R1,#+48
   \        0x6   0x434B             MULS     R3,R1,R3
   \        0x8   0x....             LDR.N    R2,??DataTable10_10  ;; 0x4003e000
   \        0xA   0x....             B.N      ?Subroutine0
    134          }

   \                                 In section .text, align 2, keep-with-next
   \                     ?Subroutine0: (+1)
   \        0x0   0xF000 0x000F      AND      R0,R0,#0xF
   \        0x4   0x18D1             ADDS     R1,R2,R3
   \        0x6   0x2201             MOVS     R2,#+1
   \        0x8   0xFA02 0xF000      LSL      R0,R2,R0
   \        0xC   0x6108             STR      R0,[R1, #+16]
   \        0xE   0x4770             BX       LR               ;; return
    135          

   \                                 In section .text, align 2, keep-with-next
    136          void halGpioSet(uint32_t gpio)
    137          {
    138            GPIO_PinOutSet(GPIO_PORT(gpio), GPIO_PIN(gpio));
   \                     halGpioSet: (+1)
   \        0x0   0x0503             LSLS     R3,R0,#+20
   \        0x2   0x0E1B             LSRS     R3,R3,#+24
   \        0x4   0x2130             MOVS     R1,#+48
   \        0x6   0x434B             MULS     R3,R1,R3
   \        0x8   0x....             LDR.N    R2,??DataTable10_11  ;; 0x4003d000
   \        0xA                      REQUIRE ?Subroutine0
   \        0xA                      ;; // Fall through to label ?Subroutine0
    139          }
    140          

   \                                 In section .text, align 2, keep-with-next
    141          uint32_t halGpioRead(uint32_t gpio)
    142          {
   \                     halGpioRead: (+1)
   \        0x0   0x4601             MOV      R1,R0
    143            return GPIO_PinInGet(GPIO_PORT(gpio), GPIO_PIN(gpio));
   \        0x2   0x050B             LSLS     R3,R1,#+20
   \        0x4   0x0E1B             LSRS     R3,R3,#+24
   \        0x6   0x2030             MOVS     R0,#+48
   \        0x8   0x4343             MULS     R3,R0,R3
   \        0xA   0x....             LDR.N    R2,??DataTable10_9  ;; 0x4003c000
   \        0xC   0xF001 0x010F      AND      R1,R1,#0xF
   \       0x10   0x18D0             ADDS     R0,R2,R3
   \       0x12   0x6940             LDR      R0,[R0, #+20]
   \       0x14   0x....             B.N      ?Subroutine1
    144          }
    145          

   \                                 In section .text, align 2, keep-with-next
    146          uint32_t halGpioReadOutput(uint32_t gpio)
    147          {
   \                     halGpioReadOutput: (+1)
   \        0x0   0x4601             MOV      R1,R0
    148            return GPIO_PinOutGet(GPIO_PORT(gpio), GPIO_PIN(gpio));
   \        0x2   0x050B             LSLS     R3,R1,#+20
   \        0x4   0x0E1B             LSRS     R3,R3,#+24
   \        0x6   0x2030             MOVS     R0,#+48
   \        0x8   0x4343             MULS     R3,R0,R3
   \        0xA   0x....             LDR.N    R2,??DataTable10_9  ;; 0x4003c000
   \        0xC   0xF001 0x010F      AND      R1,R1,#0xF
   \       0x10   0x18D0             ADDS     R0,R2,R3
   \       0x12   0x6900             LDR      R0,[R0, #+16]
   \       0x14                      REQUIRE ?Subroutine1
   \       0x14                      ;; // Fall through to label ?Subroutine1
    149          }

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable10:
   \        0x0   0x....'....        DC32     ?_0

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable10_1:
   \        0x0   0x4A01'8000        DC32     0x4a018000

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable10_2:
   \        0x0   0xE000'E284        DC32     0xe000e284

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable10_3:
   \        0x0   0x4A01'A018        DC32     0x4a01a018

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable10_4:
   \        0x0   0xE000'E104        DC32     0xe000e104

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable10_5:
   \        0x0   0x4A01'901C        DC32     0x4a01901c

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable10_6:
   \        0x0   0x4A01'8004        DC32     0x4a018004

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable10_7:
   \        0x0   0x4A01'8024        DC32     0x4a018024

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable10_8:
   \        0x0   0x....'....        DC32     ?_1

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable10_9:
   \        0x0   0x4003'C000        DC32     0x4003c000

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable10_10:
   \        0x0   0x4003'E000        DC32     0x4003e000

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable10_11:
   \        0x0   0x4003'D000        DC32     0x4003d000

   \                                 In section .rodata, align 4
   \                     ?_0:
   \        0x0   0x01 0x00          DC8 1, 0, 0, 0, 0, 0, 15, 0, 0, 0, 0, 0
   \              0x00 0x00    
   \              0x00 0x00    
   \              0x0F 0x00    
   \              0x00 0x00    
   \              0x00 0x00    

   \                                 In section .rodata, align 4
   \                     ?_1:
   \        0x0   0x6D 0x69          DC8 "micro-common.c"
   \              0x63 0x72    
   \              0x6F 0x2D    
   \              0x63 0x6F    
   \              0x6D 0x6D    
   \              0x6F 0x6E    
   \              0x2E 0x63    
   \              0x00         
   \        0xF   0x00               DC8 0

   Maximum stack usage in bytes:

   .cstack Function
   ------- --------
       0   WDOG0_IRQHandler
         0   -> NMI_Handler
       0   halGpioClear
      16   halGpioGetConfig
        16   -> halInternalAssertFailed
       0   halGpioRead
       0   halGpioReadOutput
       0   halGpioSet
      16   halGpioSetConfig
         0   -> GPIO_PinModeSet
        16   -> halGpioReadOutput
       0   halInternalDisableWatchDog
         0   -> WDOGn_Enable
      32   halInternalEnableWatchDog
        32   -> CMU_ClockSelectSet
        32   -> WDOGn_Init
       0   halInternalResetWatchDog
         0   -> WDOGn_Feed
       0   halInternalWatchDogEnabled
       0   halInternalWatchDogSleep


   Section sizes:

   Bytes  Function/Label
   -----  --------------
       4  ??DataTable10
       4  ??DataTable10_1
       4  ??DataTable10_10
       4  ??DataTable10_11
       4  ??DataTable10_2
       4  ??DataTable10_3
       4  ??DataTable10_4
       4  ??DataTable10_5
       4  ??DataTable10_6
       4  ??DataTable10_7
       4  ??DataTable10_8
       4  ??DataTable10_9
      16  ?Subroutine0
       8  ?Subroutine1
      12  ?_0
      16  ?_1
       4  WDOG0_IRQHandler
      12  halGpioClear
      96  halGpioGetConfig
      22  halGpioRead
      20  halGpioReadOutput
      10  halGpioSet
      32  halGpioSetConfig
      14  halInternalDisableWatchDog
      72  halInternalEnableWatchDog
       6  halInternalResetWatchDog
       6  halInternalWatchDogEnabled
      10  halInternalWatchDogSleep

 
  28 bytes in section .rodata
 376 bytes in section .text
 
 376 bytes of CODE  memory
  28 bytes of CONST memory

Errors: none
Warnings: none
